# Тест ошибок из описания
## Если хотя бы одного бара нет, прекращаем проверку, пишем Error=6, не заполняем в ответе по всем барам элементы формы, алккода, даты, типа.
*Полученный результат по описанию: ставим <ck:Error>6</ck:Error> , не заполняем в ответе по всем барам элементы формы, алккода, даты, типа.* {{collapse(чек+тикет+лог)
<pre>
<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>1</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBIFQYJXI38P</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    <ck:Bottle>
      <ck:Barcode>200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122</ck:Barcode>
      <ck:EAN>5010196091009</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
>
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 11:52:24,828 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0x3c5a8fda, L:/10.10.4.247:14301 - R:/10.10.4.247:41938]
2024-03-07 11:52:24,828 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 11:52:24,832 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === name:barcodes
2024-03-07 11:52:24,832 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === value:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>1</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBIFQYJXI38P</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    <ck:Bottle>
      <ck:Barcode>200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122</ck:Barcode>
      <ck:EAN>5010196091009</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>


2024-03-07 11:52:24,832 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === fsrarId:null
2024-03-07 11:52:24,832 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start
2024-03-07 11:52:24,832 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start process [<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>1</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBIFQYJXI38P</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    <ck:Bottle>
      <ck:Barcode>200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122</ck:Barcode>
      <ck:EAN>5010196091009</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>]
2024-03-07 11:52:24,832 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start transform:null <?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>1</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBIFQYJXI38P</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    <ck:Bottle>
      <ck:Barcode>200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122</ck:Barcode>
      <ck:EAN>5010196091009</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
2024-03-07 11:52:24,835 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === end transform:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3OnLine>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>1</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBIFQYJXI38P</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    <ck:Bottle>
      <ck:Barcode>200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122</ck:Barcode>
      <ck:EAN>5010196091009</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3OnLine>
</ns:Document>
</ns:Documents>
2024-03-07 11:52:24,836 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start bark
2024-03-07 11:52:24,837 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 11:52:24,838 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === doc type: ChequeV3OnLine
2024-03-07 11:52:24,844 INFO - [OnLineChequeV3.java:95:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === Start processing.
2024-03-07 11:52:24,844 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === initDB
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === f(200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBIFQYJXI38P) start
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBIFQYJXI38P
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:136
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:204
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:314
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBIFQYJXI38P
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:010
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBIFQYJXI38P
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:0923
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0122
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0222
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0322
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:false
2024-03-07 11:52:24,847 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === f=(0) end
2024-03-07 11:52:24,847 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === shard(200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBIFQYJXI38P)=0
2024-03-07 11:52:24,847 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === get: [200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBIFQYJXI38P] from [barcodes]
2024-03-07 11:52:24,847 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === f(200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122) start
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:136
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:204
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:314
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:010
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:0923
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0122
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0222
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0322
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:false
2024-03-07 11:52:24,862 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === f=(0) end
2024-03-07 11:52:24,862 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === shard(200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122)=0
2024-03-07 11:52:24,862 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === get: [200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122] from [barcodes]
2024-03-07 11:52:24,862 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 11:52:24,864 DEBUG - [OnLineChequeV3.java:226:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === 0b0: [200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122]
2024-03-07 11:52:24,864 DEBUG - [OnLineChequeV3.java:105:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === fail ChequeV3OnLine session = [ru.centerinform.bark.db.hydra.HydraStorekeeper@16937f20]
2024-03-07 11:52:24,864 DEBUG - [OnLineChequeV3.java:106:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === Exception: 
ru.centerinform.bark.processor.online.OnLineChequeException: 200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122
	at ru.centerinform.bark.processor.online.OnLineChequeV3.processSale(OnLineChequeV3.java:227) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV3.checkBarcodesInDB(OnLineChequeV3.java:161) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV3.processToString(OnLineChequeV3.java:100) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.DefaultProcessor.process(DefaultProcessor.java:87) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleImpl(DefaultDocumentHandler.java:202) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleXmlDoc(DefaultDocumentHandler.java:146) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handle(DefaultDocumentHandler.java:125) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.Bark.process(Bark.java:241) ~[bark-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.bark(RequestHandler.java:139) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.handleSendReq(RequestHandler.java:84) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.handleHttpContent(HttpFileUploadHandler.java:137) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:67) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:41) ~[bark-v-3.24.0.jar:?]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.http.HttpServerExpectContinueHandler.channelRead(HttpServerExpectContinueHandler.java:95) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1414) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:945) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:141) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2024-03-07 11:52:24,864 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@6f22da87
2024-03-07 11:52:24,865 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@6f22da87
2024-03-07 11:52:24,865 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@6a6686a0
2024-03-07 11:52:24,865 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@6a6686a0
2024-03-07 11:52:24,871 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@6f22da87
2024-03-07 11:52:24,871 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@6f22da87
2024-03-07 11:52:24,871 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@6a6686a0
2024-03-07 11:52:24,871 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@6a6686a0
2024-03-07 11:52:24,871 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === end bark
2024-03-07 11:52:24,871 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
>
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 11:52:24,871 INFO - [Storage.java:62:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === start proc
2024-03-07 11:52:24,871 DEBUG - [Storage.java:67:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
>
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 11:52:24,876 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 11:52:24,876 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 11:52:24,876 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 11:52:24,876 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 11:52:24,876 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 11:52:24,876 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 11:52:24,876 DEBUG - [Storage.java:85:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === <result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122)</text></result>
2024-03-07 11:52:24,876 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 11:52:24,876 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 11:52:24,876 DEBUG - [Storage.java:100:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122)</text></result>
2024-03-07 11:52:24,876 INFO - [Storage.java:103:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === end proc
2024-03-07 11:52:24,876 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200303101140923001MFQ30BTCITZDDNIPFSONHV8KOEKV9HGRLZ5WRGIHT0CV4NOXP8QMSFKZNBEDSEC3GWFV5XZ18XWBQKFZJMX6HOTY5UN4V0HILMWNARLS9CGV7SUO52QYZXBI121212122)</text></result>
2024-03-07 11:52:24,876 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === inc:73
2024-03-07 11:52:24,876 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === send
2024-03-07 11:52:24,877 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === final end
</pre>
}}
##  Если бар есть, но у него неправильный владелец(0b2 = Некорректный владелец:? ШК ?), обычным образом получаем форму, алккод, дату, тип, заполняем ими ответ, не пишем Error=6
%{color:red; font-weight:bold}Полученный результат по описанию: взял марку другого владельца и поместил в чек, Проверка не пройдена: продукция не внесена в поштучный учет, также записали Error=6%  {{collapse(чек+тикет+лог)
<pre>
<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
>
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 11:58:21,804 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0xf40e298f, L:/10.10.4.247:14301 - R:/10.10.4.247:43326]
2024-03-07 11:58:21,804 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 11:58:21,808 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === name:barcodes
2024-03-07 11:58:21,808 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === value:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>

2024-03-07 11:58:21,808 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === fsrarId:null
2024-03-07 11:58:21,808 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start
2024-03-07 11:58:21,808 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start process [<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>]
2024-03-07 11:58:21,808 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start transform:null <?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
2024-03-07 11:58:21,811 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === end transform:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3OnLine>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3OnLine>
</ns:Document>
</ns:Documents>
2024-03-07 11:58:21,813 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start bark
2024-03-07 11:58:21,813 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 11:58:21,814 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === doc type: ChequeV3OnLine
2024-03-07 11:58:21,815 INFO - [OnLineChequeV3.java:95:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === Start processing.
2024-03-07 11:58:21,815 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === initDB
2024-03-07 11:58:21,817 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === f(912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699) start
2024-03-07 11:58:21,817 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699
2024-03-07 11:58:21,817 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === pattern:136
2024-03-07 11:58:21,818 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === pattern:204
2024-03-07 11:58:21,818 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === pattern:314
2024-03-07 11:58:21,818 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 11:58:21,818 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699
2024-03-07 11:58:21,818 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === pattern:010
2024-03-07 11:58:21,818 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 11:58:21,818 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699
2024-03-07 11:58:21,818 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:0418
2024-03-07 11:58:21,818 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0122
2024-03-07 11:58:21,818 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0222
2024-03-07 11:58:21,818 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0322
2024-03-07 11:58:21,818 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:false
2024-03-07 11:58:21,818 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === f=(0) end
2024-03-07 11:58:21,818 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === shard(912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699)=0
2024-03-07 11:58:21,818 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === get: [912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699] from [barcodes]
2024-03-07 11:58:21,818 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 11:58:21,827 DEBUG - [OnLineChequeV3.java:105:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === fail ChequeV3OnLine session = [ru.centerinform.bark.db.hydra.HydraStorekeeper@1568cc5d]
2024-03-07 11:58:21,827 DEBUG - [OnLineChequeV3.java:106:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === Exception: 
ru.centerinform.bark.processor.online.OnLineChequeException: 912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699
	at ru.centerinform.bark.processor.online.OnLineChequeV3.checkOwner(OnLineChequeV3.java:273) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV3.executeMainChecks(OnLineChequeV3.java:179) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV3.processToString(OnLineChequeV3.java:101) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.DefaultProcessor.process(DefaultProcessor.java:87) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleImpl(DefaultDocumentHandler.java:202) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleXmlDoc(DefaultDocumentHandler.java:146) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handle(DefaultDocumentHandler.java:125) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.Bark.process(Bark.java:241) ~[bark-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.bark(RequestHandler.java:139) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.handleSendReq(RequestHandler.java:84) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.handleHttpContent(HttpFileUploadHandler.java:137) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:67) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:41) ~[bark-v-3.24.0.jar:?]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.http.HttpServerExpectContinueHandler.channelRead(HttpServerExpectContinueHandler.java:95) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1414) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:945) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:141) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2024-03-07 11:58:21,827 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@10519a0b
2024-03-07 11:58:21,827 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@10519a0b
2024-03-07 11:58:21,827 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@2b1dd7a3
2024-03-07 11:58:21,827 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@2b1dd7a3
2024-03-07 11:58:21,831 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@10519a0b
2024-03-07 11:58:21,831 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@10519a0b
2024-03-07 11:58:21,831 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@2b1dd7a3
2024-03-07 11:58:21,831 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@2b1dd7a3
2024-03-07 11:58:21,831 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === end bark
2024-03-07 11:58:21,831 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
>
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 11:58:21,831 INFO - [Storage.java:62:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === start proc
2024-03-07 11:58:21,831 DEBUG - [Storage.java:67:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
>
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 11:58:21,836 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 11:58:21,836 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 11:58:21,836 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 11:58:21,836 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 11:58:21,836 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 11:58:21,836 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 11:58:21,836 DEBUG - [Storage.java:85:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === <result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699)</text></result>
2024-03-07 11:58:21,836 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 11:58:21,836 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 11:58:21,836 DEBUG - [Storage.java:100:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699)</text></result>
2024-03-07 11:58:21,836 INFO - [Storage.java:103:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === end proc
2024-03-07 11:58:21,836 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (912944160295960418432TV13RTUED4KB06NOZLPUIKBO4BQMGJ1EPSAY5K2G3LS0GH93OPPYYEP1KRBIG3YFPBCUWLR4Y431ZW0O2Z3E1PST4ZM8S2GUDXWTDL8ZR1J0WNP9TLH0BO2QGH6000699)</text></result>
2024-03-07 11:58:21,836 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === inc:83
2024-03-07 11:58:21,836 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === send
2024-03-07 11:58:21,837 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV3OnLine HASH: === final end
</pre>
}}
##  Если бар есть, но у него неправильный тип, обычным образом получаем форму, алккод, дату, тип, заполняем ими ответ, не пишем Error=6
%{color:red;font-weight:bold}Полученный результат по описанию: Отправляю после AWO, Проверка не пройдена: продукция не внесена в поштучный учет, <ck:Error>6</ck:Error>, проверки по архиву не производятся%{ {{collapse(чек+тикет+лог)
<pre>
<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
    xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
    xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-11T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
>
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-11T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-11 12:54:32,780 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0xb3dc04d0, L:/10.10.4.247:14301 - R:/10.10.4.247:53872]
2024-03-11 12:54:32,780 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-11 12:54:32,782 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === name:barcodes
2024-03-11 12:54:32,782 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === value:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
    xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
    xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-11T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>

2024-03-11 12:54:32,782 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-11 12:54:32,782 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start
2024-03-11 12:54:32,782 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start process [<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
    xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
    xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-11T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>]
2024-03-11 12:54:32,782 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start transform:030000434308 <?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
    xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
    xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-11T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
2024-03-11 12:54:32,784 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === end transform:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
    xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
    xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3OnLine>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-11T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3OnLine>
</ns:Document>
</ns:Documents>
2024-03-11 12:54:32,784 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start bark
2024-03-11 12:54:32,784 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-11 12:54:32,784 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === doc type: ChequeV3OnLine
2024-03-11 12:54:32,785 INFO - [OnLineChequeV3.java:95:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === Start processing.
2024-03-11 12:54:32,785 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === initDB
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === f(200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V) start
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:136
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:204
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:314
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:010
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:0324
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0122
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0222
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0322
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:false
2024-03-11 12:54:32,787 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === f=(0) end
2024-03-11 12:54:32,787 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === shard(200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V)=0
2024-03-11 12:54:32,787 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === get: [200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V] from [barcodes]
2024-03-11 12:54:32,787 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-11 12:54:32,788 DEBUG - [OnLineChequeV3.java:226:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === 0b0: [200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V]
2024-03-11 12:54:32,788 DEBUG - [OnLineChequeV3.java:105:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === fail ChequeV3OnLine session = [ru.centerinform.bark.db.hydra.HydraStorekeeper@63872194]
2024-03-11 12:54:32,788 DEBUG - [OnLineChequeV3.java:106:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === Exception: 
ru.centerinform.bark.processor.online.OnLineChequeException: 200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V
	at ru.centerinform.bark.processor.online.OnLineChequeV3.processSale(OnLineChequeV3.java:227) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV3.checkBarcodesInDB(OnLineChequeV3.java:161) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV3.processToString(OnLineChequeV3.java:100) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.DefaultProcessor.process(DefaultProcessor.java:87) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleImpl(DefaultDocumentHandler.java:202) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleXmlDoc(DefaultDocumentHandler.java:146) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handle(DefaultDocumentHandler.java:125) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.Bark.process(Bark.java:241) ~[bark-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.bark(RequestHandler.java:139) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.handleSendReq(RequestHandler.java:84) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.handleHttpContent(HttpFileUploadHandler.java:137) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:67) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:41) ~[bark-v-3.24.0.jar:?]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.http.HttpServerExpectContinueHandler.channelRead(HttpServerExpectContinueHandler.java:95) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1414) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:945) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:141) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2024-03-11 12:54:32,788 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@36f60837
2024-03-11 12:54:32,788 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@36f60837
2024-03-11 12:54:32,788 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@5fe1fbce
2024-03-11 12:54:32,789 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@5fe1fbce
2024-03-11 12:54:32,792 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@36f60837
2024-03-11 12:54:32,792 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@36f60837
2024-03-11 12:54:32,792 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@5fe1fbce
2024-03-11 12:54:32,792 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@5fe1fbce
2024-03-11 12:54:32,792 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === end bark
2024-03-11 12:54:32,792 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
>
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-11T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>

2024-03-11 12:54:32,792 INFO - [Storage.java:62:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === start proc
2024-03-11 12:54:32,792 DEBUG - [Storage.java:67:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
>
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-11T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-11 12:54:32,797 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-11 12:54:32,797 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-11 12:54:32,797 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-11 12:54:32,797 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-11 12:54:32,797 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-11 12:54:32,797 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-11 12:54:32,797 DEBUG - [Storage.java:85:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === <result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V)</text></result>
2024-03-11 12:54:32,797 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-11 12:54:32,797 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-11 12:54:32,797 DEBUG - [Storage.java:100:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V)</text></result>
2024-03-11 12:54:32,797 INFO - [Storage.java:103:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === end proc
2024-03-11 12:54:32,797 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V)</text></result>
2024-03-11 12:54:32,797 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === inc:6241
2024-03-11 12:54:32,797 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === send
2024-03-11 12:54:32,797 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === final end
</pre>
}}
# Тест всех возможных ошибок от барка ChequeV3
## Отправка обычного чека, без ошибок
*Полученный результат по описанию: Документ успешно обработался, в ответе заполнены все элементы формы, алккода, даты, типа* {{collapse(чек+тикет+лог)
<pre>
<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2</ck:Barcode>
                    <ck:EAN>5010196091008</ck:EAN>
                    <ck:Price>523.45</ck:Price>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040977278</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2024-03-07T10-37-17</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 12:37:48,367 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0x2115a268, L:/10.10.4.247:14301 - R:/10.10.4.247:52138]
2024-03-07 12:37:48,367 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 12:37:48,370 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-4] = ID: TYPE: HASH: === name:barcodes
2024-03-07 12:37:48,370 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-4] = ID: TYPE: HASH: === value:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>

2024-03-07 12:37:48,370 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-4] = ID: TYPE: HASH: === fsrarId:null
2024-03-07 12:37:48,370 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-4] = ID: TYPE: HASH: === start
2024-03-07 12:37:48,370 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-4] = ID: TYPE: HASH: === start process [<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>]
2024-03-07 12:37:48,370 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-4] = ID: TYPE: HASH: === start transform:null <?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
2024-03-07 12:37:48,372 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-4] = ID: TYPE: HASH: === end transform:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3OnLine>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3OnLine>
</ns:Document>
</ns:Documents>
2024-03-07 12:37:48,372 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-4] = ID: TYPE: HASH: === start bark
2024-03-07 12:37:48,373 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-4] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 12:37:48,373 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-4] = ID: TYPE: HASH: === doc type: ChequeV3OnLine
2024-03-07 12:37:48,374 INFO - [OnLineChequeV3.java:95:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === Start processing.
2024-03-07 12:37:48,374 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === initDB
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === f(200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2) start
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === pattern:136
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === pattern:204
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === pattern:314
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === pattern:010
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:0124
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0122
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0222
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0322
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:false
2024-03-07 12:37:48,376 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === f=(0) end
2024-03-07 12:37:48,376 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === shard(200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2)=0
2024-03-07 12:37:48,376 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === get: [200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2] from [barcodes]
2024-03-07 12:37:48,377 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 12:37:48,389 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === get: [517b4b95628afc5c594bd0770282e2bd] from [chains2]
2024-03-07 12:37:48,389 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === SELECT VAL FROM chains2 WHERE CODE =?
2024-03-07 12:37:48,390 TRACE - [AlcodeFinder.java:68:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === Look in alccodesMap: [TEST-FB-000000040977278]
2024-03-07 12:37:48,391 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === get start:alccodes/TEST-FB-000000040977278 {}
2024-03-07 12:37:48,391 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === get end:alccodes/TEST-FB-000000040977278 0300004343080000001
2024-03-07 12:37:48,392 DEBUG - [AlcodeFinder.java:77:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === foundAlcCode : [0300004343080000001]
2024-03-07 12:37:48,392 TRACE - [JedisExpireCache.java:48:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === put start:alccodes/TEST-FB-000000040977278 0300004343080000001
2024-03-07 12:37:48,392 TRACE - [JedisExpireCache.java:50:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === exp :alccodes/TEST-FB-000000040977278 604800
2024-03-07 12:37:48,392 TRACE - [JedisExpireCache.java:52:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === put end:alccodes/TEST-FB-000000040977278 0300004343080000001
2024-03-07 12:37:48,392 DEBUG - [JDBCStringStore.java:71:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === put: [TEST-FB-000000040977278]=[0300004343080000001] in [alccodes]
2024-03-07 12:37:48,393 DEBUG - [JDBCStringStore.java:163:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === upsert: [TEST-FB-000000040977278]=[0300004343080000001] in [alccodes]
2024-03-07 12:37:48,393 DEBUG - [JDBCStringStore.java:165:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === INSERT INTO alccodes  (CODE, VAL) VALUES (?,?)  ON CONFLICT (CODE)  DO UPDATE SET VAL = ?
2024-03-07 12:37:48,394 DEBUG - [JDBCStringStore.java:172:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === upsert: [1]
2024-03-07 12:37:48,394 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@23ff5fce
2024-03-07 12:37:48,396 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@23ff5fce
2024-03-07 12:37:48,396 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@35375325
2024-03-07 12:37:48,396 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@35375325
2024-03-07 12:37:48,396 INFO - [OnLineChequeV3.java:115:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === End processing.
2024-03-07 12:37:48,403 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@23ff5fce
2024-03-07 12:37:48,403 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@23ff5fce
2024-03-07 12:37:48,403 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@35375325
2024-03-07 12:37:48,403 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@35375325
2024-03-07 12:37:48,403 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === end bark
2024-03-07 12:37:48,403 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2</ck:Barcode>
                    <ck:EAN>5010196091008</ck:EAN>
                    <ck:Price>523.45</ck:Price>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040977278</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2024-03-07T10-37-17</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 12:37:48,403 INFO - [Storage.java:62:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === start proc
2024-03-07 12:37:48,403 DEBUG - [Storage.java:67:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211270124001LR1JCF9UZOO7BHQXB3TMDZE5YCPYT4KP2WVWRAHADZCLTCIF08PKU7YYX4OJGE3BULB6HSJ2EA691YBRSKDAX0Y7TF24D5NGEIULUVSCOBWQ4BCDEEHJNLZ0ZNU8SI1V2</ck:Barcode>
                    <ck:EAN>5010196091008</ck:EAN>
                    <ck:Price>523.45</ck:Price>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040977278</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2024-03-07T10-37-17</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 12:37:48,409 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:37:48,409 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:37:48,410 DEBUG - [Storage.java:85:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === <result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:37:48,410 DEBUG - [Storage.java:92:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:37:48,410 DEBUG - [Storage.java:100:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === Call finished:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 12:37:48,410 INFO - [Storage.java:103:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === end proc
2024-03-07 12:37:48,410 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === sql resp:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 12:37:48,410 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === inc:139
2024-03-07 12:37:48,410 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === send
2024-03-07 12:37:48,411 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-4] = ID: TYPE:ChequeV3OnLine HASH: === final end
</pre>
}}
##  0b0 = ШК ? не найден в системе
*Полученный результат по описанию: <ck:Error>6</ck:Error>* {{collapse(чек+тикет+лог)
<pre>
<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
>
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 12:35:58,484 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0x0f8236e9, L:/10.10.4.247:14301 - R:/10.10.4.247:51772]
2024-03-07 12:35:58,484 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 12:35:58,487 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === name:barcodes
2024-03-07 12:35:58,487 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === value:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>


2024-03-07 12:35:58,487 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === fsrarId:null
2024-03-07 12:35:58,487 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start
2024-03-07 12:35:58,487 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start process [<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>]
2024-03-07 12:35:58,487 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start transform:null <?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
2024-03-07 12:35:58,489 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === end transform:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3OnLine>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2024-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3OnLine>
</ns:Document>
</ns:Documents>
2024-03-07 12:35:58,490 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start bark
2024-03-07 12:35:58,490 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 12:35:58,491 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === doc type: ChequeV3OnLine
2024-03-07 12:35:58,492 INFO - [OnLineChequeV3.java:95:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === Start processing.
2024-03-07 12:35:58,492 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === initDB
2024-03-07 12:35:58,494 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === f(20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ) start
2024-03-07 12:35:58,494 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ
2024-03-07 12:35:58,494 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:136
2024-03-07 12:35:58,494 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:204
2024-03-07 12:35:58,494 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:314
2024-03-07 12:35:58,494 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 12:35:58,494 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ
2024-03-07 12:35:58,494 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === pattern:010
2024-03-07 12:35:58,494 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 12:35:58,494 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ
2024-03-07 12:35:58,494 TRACE - [PatternFunction.java:164:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === skip barcode by length:118
2024-03-07 12:35:58,494 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:false
2024-03-07 12:35:58,494 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === f=(0) end
2024-03-07 12:35:58,494 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === shard(20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ)=0
2024-03-07 12:35:58,494 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === get: [20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ] from [barcodes]
2024-03-07 12:35:58,494 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 12:35:58,495 DEBUG - [OnLineChequeV3.java:226:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === 0b0: [20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ]
2024-03-07 12:35:58,495 DEBUG - [OnLineChequeV3.java:105:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === fail ChequeV3OnLine session = [ru.centerinform.bark.db.hydra.HydraStorekeeper@6c3fdb36]
2024-03-07 12:35:58,495 DEBUG - [OnLineChequeV3.java:106:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === Exception: 
ru.centerinform.bark.processor.online.OnLineChequeException: 20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ
	at ru.centerinform.bark.processor.online.OnLineChequeV3.processSale(OnLineChequeV3.java:227) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV3.checkBarcodesInDB(OnLineChequeV3.java:161) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV3.processToString(OnLineChequeV3.java:100) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.DefaultProcessor.process(DefaultProcessor.java:87) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleImpl(DefaultDocumentHandler.java:202) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleXmlDoc(DefaultDocumentHandler.java:146) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handle(DefaultDocumentHandler.java:125) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.Bark.process(Bark.java:241) ~[bark-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.bark(RequestHandler.java:139) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.handleSendReq(RequestHandler.java:84) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.handleHttpContent(HttpFileUploadHandler.java:137) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:67) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:41) ~[bark-v-3.24.0.jar:?]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.http.HttpServerExpectContinueHandler.channelRead(HttpServerExpectContinueHandler.java:95) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1414) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:945) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:141) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2024-03-07 12:35:58,495 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@5c9e115a
2024-03-07 12:35:58,496 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@5c9e115a
2024-03-07 12:35:58,496 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@5581cd08
2024-03-07 12:35:58,496 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@5581cd08
2024-03-07 12:35:58,499 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@5c9e115a
2024-03-07 12:35:58,499 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@5c9e115a
2024-03-07 12:35:58,499 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@5581cd08
2024-03-07 12:35:58,499 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@5581cd08
2024-03-07 12:35:58,499 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === end bark
2024-03-07 12:35:58,499 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
>
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 12:35:58,499 INFO - [Storage.java:62:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === start proc
2024-03-07 12:35:58,499 DEBUG - [Storage.java:67:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
>
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 12:35:58,504 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:35:58,504 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:35:58,504 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:35:58,504 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:35:58,504 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:35:58,504 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:35:58,504 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:35:58,504 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:35:58,504 DEBUG - [Storage.java:85:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === <result><number>1</number><text>Проверка не пройдена: продукция с данной маркой отсутствует в ЕГАИС (20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ)</text></result>
2024-03-07 12:35:58,505 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:35:58,505 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:35:58,505 DEBUG - [Storage.java:100:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: продукция с данной маркой отсутствует в ЕГАИС (20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ)</text></result>
2024-03-07 12:35:58,505 INFO - [Storage.java:103:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === end proc
2024-03-07 12:35:58,505 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: продукция с данной маркой отсутствует в ЕГАИС (20020030321000012400186HXRU5DVDCJP4S9Y1VFLLR2GSOBOZXKAINQVYQBPJE8WJ4ARFWRG91XUKOLHIMVQBUPLDGYLRZTUSFWTEQ0U7LOCMLWA8FFQ)</text></result>
2024-03-07 12:35:58,505 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === inc:136
2024-03-07 12:35:58,505 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === send
2024-03-07 12:35:58,506 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV3OnLine HASH: === final end
</pre>
}}
##  0b4 = Инверсия даты: ? для ШК ?
%{color:red; font-weight:bold}Полученный результат по описанию:  На дату вообще не реагирует <ck:Error>0</ck:Error>% {{collapse(чек+тикет+лог)
<pre>
<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2022-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
                    <ck:EAN>5010196091008</ck:EAN>
                    <ck:Price>523.45</ck:Price>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040977278</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T10-37-17</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 12:39:48,404 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0xae3ab267, L:/10.10.4.247:14301 - R:/10.10.4.247:52514]
2024-03-07 12:39:48,404 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 12:39:48,407 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === name:barcodes
2024-03-07 12:39:48,407 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === value:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2022-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>

2024-03-07 12:39:48,407 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === fsrarId:null
2024-03-07 12:39:48,407 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === start
2024-03-07 12:39:48,407 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === start process [<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2022-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>]
2024-03-07 12:39:48,407 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === start transform:null <?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2022-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
2024-03-07 12:39:48,409 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === end transform:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3OnLine>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2022-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3OnLine>
</ns:Document>
</ns:Documents>
2024-03-07 12:39:48,410 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === start bark
2024-03-07 12:39:48,410 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 12:39:48,411 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === doc type: ChequeV3OnLine
2024-03-07 12:39:48,412 INFO - [OnLineChequeV3.java:95:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === Start processing.
2024-03-07 12:39:48,412 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === initDB
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === f(200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8) start
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === pattern:136
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === pattern:204
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === pattern:314
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === pattern:010
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:0124
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0122
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0222
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0322
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:false
2024-03-07 12:39:48,414 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === f=(0) end
2024-03-07 12:39:48,414 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === shard(200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8)=0
2024-03-07 12:39:48,414 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === get: [200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8] from [barcodes]
2024-03-07 12:39:48,415 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 12:39:48,419 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === get: [517b4b95628afc5c594bd0770282e2bd] from [chains2]
2024-03-07 12:39:48,419 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === SELECT VAL FROM chains2 WHERE CODE =?
2024-03-07 12:39:48,420 TRACE - [AlcodeFinder.java:68:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === Look in alccodesMap: [TEST-FB-000000040977278]
2024-03-07 12:39:48,420 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === get start:alccodes/TEST-FB-000000040977278 {}
2024-03-07 12:39:48,421 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === get end:alccodes/TEST-FB-000000040977278 0300004343080000001
2024-03-07 12:39:48,421 DEBUG - [AlcodeFinder.java:77:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === foundAlcCode : [0300004343080000001]
2024-03-07 12:39:48,421 TRACE - [JedisExpireCache.java:48:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === put start:alccodes/TEST-FB-000000040977278 0300004343080000001
2024-03-07 12:39:48,421 TRACE - [JedisExpireCache.java:50:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === exp :alccodes/TEST-FB-000000040977278 604800
2024-03-07 12:39:48,422 TRACE - [JedisExpireCache.java:52:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === put end:alccodes/TEST-FB-000000040977278 0300004343080000001
2024-03-07 12:39:48,422 DEBUG - [JDBCStringStore.java:71:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === put: [TEST-FB-000000040977278]=[0300004343080000001] in [alccodes]
2024-03-07 12:39:48,422 DEBUG - [JDBCStringStore.java:163:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === upsert: [TEST-FB-000000040977278]=[0300004343080000001] in [alccodes]
2024-03-07 12:39:48,422 DEBUG - [JDBCStringStore.java:165:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === INSERT INTO alccodes  (CODE, VAL) VALUES (?,?)  ON CONFLICT (CODE)  DO UPDATE SET VAL = ?
2024-03-07 12:39:48,423 DEBUG - [JDBCStringStore.java:172:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === upsert: [1]
2024-03-07 12:39:48,423 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@7b4a1cb4
2024-03-07 12:39:48,424 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@7b4a1cb4
2024-03-07 12:39:48,424 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@105d4eea
2024-03-07 12:39:48,425 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@105d4eea
2024-03-07 12:39:48,425 INFO - [OnLineChequeV3.java:115:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === End processing.
2024-03-07 12:39:48,431 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@7b4a1cb4
2024-03-07 12:39:48,431 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@7b4a1cb4
2024-03-07 12:39:48,431 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@105d4eea
2024-03-07 12:39:48,431 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@105d4eea
2024-03-07 12:39:48,431 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === end bark
2024-03-07 12:39:48,431 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
                    <ck:EAN>5010196091008</ck:EAN>
                    <ck:Price>523.45</ck:Price>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040977278</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T10-37-17</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 12:39:48,431 INFO - [Storage.java:62:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === start proc
2024-03-07 12:39:48,431 DEBUG - [Storage.java:67:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
                    <ck:EAN>5010196091008</ck:EAN>
                    <ck:Price>523.45</ck:Price>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040977278</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T10-37-17</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 12:39:48,437 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:39:48,437 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:39:48,437 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:39:48,437 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:39:48,437 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:39:48,437 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:39:48,438 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:39:48,438 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:39:48,438 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:39:48,438 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:39:48,438 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:39:48,438 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:39:48,438 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:39:48,438 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:39:48,438 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:39:48,438 DEBUG - [Storage.java:85:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === <result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 12:39:48,438 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:39:48,438 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:39:48,438 DEBUG - [Storage.java:100:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === Call finished:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 12:39:48,438 INFO - [Storage.java:103:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === end proc
2024-03-07 12:39:48,438 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === sql resp:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 12:39:48,438 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === inc:143
2024-03-07 12:39:48,438 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === send
2024-03-07 12:39:48,439 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-8] = ID: TYPE:ChequeV3OnLine HASH: === final end
</pre>
}}
##  1b0 = ШК ? уже зарегистрирован
Полученный результат по описанию: <ck:Error>0</ck:Error> {{collapse(чек+тикет+лог)
<pre>
<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2022-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
                    <ck:EAN>5010196091008</ck:EAN>
                    <ck:Price>523.45</ck:Price>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040977278</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T10-37-17</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 12:41:14,628 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0x498fae70, L:/10.10.4.247:14301 - R:/10.10.4.247:52844]
2024-03-07 12:41:14,628 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 12:41:14,637 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === name:barcodes
2024-03-07 12:41:14,637 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === value:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2022-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>

2024-03-07 12:41:14,637 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === fsrarId:null
2024-03-07 12:41:14,637 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start
2024-03-07 12:41:14,637 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start process [<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2022-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>]
2024-03-07 12:41:14,637 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start transform:null <?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2022-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
2024-03-07 12:41:14,639 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === end transform:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3OnLine>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2022-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3OnLine>
</ns:Document>
</ns:Documents>
2024-03-07 12:41:14,640 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start bark
2024-03-07 12:41:14,640 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 12:41:14,641 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === doc type: ChequeV3OnLine
2024-03-07 12:41:14,642 INFO - [OnLineChequeV3.java:95:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === Start processing.
2024-03-07 12:41:14,642 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === initDB
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === f(200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8) start
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === pattern:136
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === pattern:204
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === pattern:314
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === pattern:010
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:0124
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0122
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0222
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0322
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:false
2024-03-07 12:41:14,645 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === f=(0) end
2024-03-07 12:41:14,646 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === shard(200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8)=0
2024-03-07 12:41:14,646 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === get: [200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8] from [barcodes]
2024-03-07 12:41:14,646 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 12:41:14,647 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === get: [517b4b95628afc5c594bd0770282e2bd] from [chains2]
2024-03-07 12:41:14,647 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === SELECT VAL FROM chains2 WHERE CODE =?
2024-03-07 12:41:14,647 TRACE - [AlcodeFinder.java:68:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === Look in alccodesMap: [TEST-FB-000000040977278]
2024-03-07 12:41:14,647 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === get start:alccodes/TEST-FB-000000040977278 {}
2024-03-07 12:41:14,648 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === get end:alccodes/TEST-FB-000000040977278 0300004343080000001
2024-03-07 12:41:14,648 DEBUG - [AlcodeFinder.java:77:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === foundAlcCode : [0300004343080000001]
2024-03-07 12:41:14,648 TRACE - [JedisExpireCache.java:48:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === put start:alccodes/TEST-FB-000000040977278 0300004343080000001
2024-03-07 12:41:14,649 TRACE - [JedisExpireCache.java:50:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === exp :alccodes/TEST-FB-000000040977278 604800
2024-03-07 12:41:14,649 TRACE - [JedisExpireCache.java:52:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === put end:alccodes/TEST-FB-000000040977278 0300004343080000001
2024-03-07 12:41:14,649 DEBUG - [JDBCStringStore.java:71:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === put: [TEST-FB-000000040977278]=[0300004343080000001] in [alccodes]
2024-03-07 12:41:14,649 DEBUG - [JDBCStringStore.java:163:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === upsert: [TEST-FB-000000040977278]=[0300004343080000001] in [alccodes]
2024-03-07 12:41:14,649 DEBUG - [JDBCStringStore.java:165:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === INSERT INTO alccodes  (CODE, VAL) VALUES (?,?)  ON CONFLICT (CODE)  DO UPDATE SET VAL = ?
2024-03-07 12:41:14,650 DEBUG - [JDBCStringStore.java:172:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === upsert: [1]
2024-03-07 12:41:14,650 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@772c694f
2024-03-07 12:41:14,652 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@772c694f
2024-03-07 12:41:14,652 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@50fc5d24
2024-03-07 12:41:14,652 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@50fc5d24
2024-03-07 12:41:14,652 INFO - [OnLineChequeV3.java:115:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === End processing.
2024-03-07 12:41:14,659 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@772c694f
2024-03-07 12:41:14,659 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@772c694f
2024-03-07 12:41:14,659 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@50fc5d24
2024-03-07 12:41:14,659 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@50fc5d24
2024-03-07 12:41:14,659 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === end bark
2024-03-07 12:41:14,659 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
                    <ck:EAN>5010196091008</ck:EAN>
                    <ck:Price>523.45</ck:Price>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040977278</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T10-37-17</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 12:41:14,659 INFO - [Storage.java:62:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === start proc
2024-03-07 12:41:14,659 DEBUG - [Storage.java:67:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8</ck:Barcode>
                    <ck:EAN>5010196091008</ck:EAN>
                    <ck:Price>523.45</ck:Price>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040977278</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T10-37-17</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:41:14,665 DEBUG - [Storage.java:85:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === <result><number>1</number><text>Проверка не пройдена: попытка продажи дубля продукции (200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8)</text></result>
2024-03-07 12:41:14,665 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:41:14,666 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:41:14,666 DEBUG - [Storage.java:100:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: попытка продажи дубля продукции (200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8)</text></result>
2024-03-07 12:41:14,666 INFO - [Storage.java:103:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === end proc
2024-03-07 12:41:14,666 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: попытка продажи дубля продукции (200200303210540124001OI2W6OYNGCJUJ98DLVIZFEAQNX3KKTEBCA0B5OKC6KXWYGS4ECWPA8HBXBLTUQFJZ2I93EPMOYFDTPHHEAPOI1XGUQRALWCJVLWD37BZBF4IEWMP6UZHDZ2GOYLDL9QY8)</text></result>
2024-03-07 12:41:14,666 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === inc:145
2024-03-07 12:41:14,666 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === send
2024-03-07 12:41:14,667 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV3OnLine HASH: === final end
2024-03-07 12:41:14,961 DEBUG - [::archive1DB housekeeper] = ID: TYPE: HASH: === archive1DB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 12:41:14,961 DEBUG - [::archive1DB housekeeper] = ID: TYPE: HASH: === archive1DB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 12:41:14,979 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 12:41:14,979 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 12:41:15,094 DEBUG - [::HikariPool-1 housekeeper] = ID: TYPE: HASH: === HikariPool-1 - Pool stats (total=32, active=0, idle=32, waiting=0)
2024-03-07 12:41:15,118 DEBUG - [::procTypeBC housekeeper] = ID: TYPE: HASH: === procTypeBC - Before cleanup stats (total=4, active=0, idle=4, waiting=0)
2024-03-07 12:41:15,118 DEBUG - [::procTypeBC housekeeper] = ID: TYPE: HASH: === procTypeBC - After cleanup  stats (total=4, active=0, idle=4, waiting=0)
2024-03-07 12:41:15,118 DEBUG - [::procAlc housekeeper] = ID: TYPE: HASH: === procAlc - Before cleanup stats (total=4, active=0, idle=4, waiting=0)
2024-03-07 12:41:15,118 DEBUG - [::procAlc housekeeper] = ID: TYPE: HASH: === procAlc - After cleanup  stats (total=4, active=0, idle=4, waiting=0)
2024-03-07 12:41:15,151 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 12:41:15,151 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 12:41:15,189 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 12:41:15,189 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 12:41:15,254 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 12:41:15,255 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 12:41:15,296 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 12:41:15,296 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 12:41:15,302 DEBUG - [::barcheck_SVS_test housekeeper] = ID: TYPE: HASH: === barcheck_SVS_test - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 12:41:15,302 DEBUG - [::barcheck_SVS_test housekeeper] = ID: TYPE: HASH: === barcheck_SVS_test - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
</pre>
}}
##  0d1 = Будущая дата документа: ?
%{color:red; font-weight:bold}Полученный результат по описанию: На дату не реагирует <ck:Error>0</ck:Error>% {{collapse(чек+тикет+лог)
<pre>
<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2026-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY</ck:Barcode>
                    <ck:EAN>5010196091008</ck:EAN>
                    <ck:Price>523.45</ck:Price>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040977278</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2026-03-07T10-37-17</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 12:52:10,908 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0xaecc0ac9, L:/10.10.4.247:14301 - R:/10.10.4.247:55138]
2024-03-07 12:52:10,908 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 12:52:10,910 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-6] = ID: TYPE: HASH: === name:barcodes
2024-03-07 12:52:10,910 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-6] = ID: TYPE: HASH: === value:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2026-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>

2024-03-07 12:52:10,911 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-6] = ID: TYPE: HASH: === fsrarId:null
2024-03-07 12:52:10,911 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-6] = ID: TYPE: HASH: === start
2024-03-07 12:52:10,911 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-6] = ID: TYPE: HASH: === start process [<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2026-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>]
2024-03-07 12:52:10,911 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-6] = ID: TYPE: HASH: === start transform:null <?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2026-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3>
</ns:Document>
</ns:Documents>
2024-03-07 12:52:10,913 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-6] = ID: TYPE: HASH: === end transform:<?xml version="1.0" encoding="UTF-8"?>
<ns:Documents Version="1.0" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
   xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine"
	xmlns:oref="http://fsrar.ru/WEGAIS/ClientRef_v2" 
	xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2">
<ns:Owner>
  <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
</ns:Owner>
<ns:Document>
  <ns:ChequeV3OnLine>
    <ck:Identity>1</ck:Identity>
    <ck:Header>
      <ck:Date>2026-03-07T10:37:17</ck:Date>
      <ck:Kassa>1</ck:Kassa>
      <ck:Shift>1</ck:Shift>
      <ck:Number>2</ck:Number>
      <ck:Type>Продажа</ck:Type>
    </ck:Header>
    <ck:Content>
    <ck:Bottle>
      <ck:Barcode>200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY</ck:Barcode>
      <ck:EAN>5010196091008</ck:EAN>
      <ck:Price>523.45</ck:Price>
    </ck:Bottle>
    </ck:Content>
  </ns:ChequeV3OnLine>
</ns:Document>
</ns:Documents>
2024-03-07 12:52:10,914 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-6] = ID: TYPE: HASH: === start bark
2024-03-07 12:52:10,914 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-6] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 12:52:10,915 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-6] = ID: TYPE: HASH: === doc type: ChequeV3OnLine
2024-03-07 12:52:10,916 INFO - [OnLineChequeV3.java:95:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === Start processing.
2024-03-07 12:52:10,916 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === initDB
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === f(200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY) start
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === pattern:136
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === pattern:204
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === pattern:314
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === pattern:010
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === prefix:false
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:0124
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0122
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0222
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === pattern:0322
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === mmyy:false
2024-03-07 12:52:10,918 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === f=(0) end
2024-03-07 12:52:10,918 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === shard(200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY)=0
2024-03-07 12:52:10,919 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === get: [200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY] from [barcodes]
2024-03-07 12:52:10,919 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 12:52:10,920 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === get: [517b4b95628afc5c594bd0770282e2bd] from [chains2]
2024-03-07 12:52:10,920 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === SELECT VAL FROM chains2 WHERE CODE =?
2024-03-07 12:52:10,922 TRACE - [AlcodeFinder.java:68:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === Look in alccodesMap: [TEST-FB-000000040977278]
2024-03-07 12:52:10,922 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === get start:alccodes/TEST-FB-000000040977278 {}
2024-03-07 12:52:10,923 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === get end:alccodes/TEST-FB-000000040977278 0300004343080000001
2024-03-07 12:52:10,923 DEBUG - [AlcodeFinder.java:77:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === foundAlcCode : [0300004343080000001]
2024-03-07 12:52:10,923 TRACE - [JedisExpireCache.java:48:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === put start:alccodes/TEST-FB-000000040977278 0300004343080000001
2024-03-07 12:52:10,923 TRACE - [JedisExpireCache.java:50:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === exp :alccodes/TEST-FB-000000040977278 604800
2024-03-07 12:52:10,924 TRACE - [JedisExpireCache.java:52:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === put end:alccodes/TEST-FB-000000040977278 0300004343080000001
2024-03-07 12:52:10,924 DEBUG - [JDBCStringStore.java:71:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === put: [TEST-FB-000000040977278]=[0300004343080000001] in [alccodes]
2024-03-07 12:52:10,924 DEBUG - [JDBCStringStore.java:163:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === upsert: [TEST-FB-000000040977278]=[0300004343080000001] in [alccodes]
2024-03-07 12:52:10,924 DEBUG - [JDBCStringStore.java:165:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === INSERT INTO alccodes  (CODE, VAL) VALUES (?,?)  ON CONFLICT (CODE)  DO UPDATE SET VAL = ?
2024-03-07 12:52:10,926 DEBUG - [JDBCStringStore.java:172:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === upsert: [1]
2024-03-07 12:52:10,926 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@33c0a38e
2024-03-07 12:52:10,927 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@33c0a38e
2024-03-07 12:52:10,927 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@48e9607c
2024-03-07 12:52:10,928 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@48e9607c
2024-03-07 12:52:10,928 INFO - [OnLineChequeV3.java:115:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === End processing.
2024-03-07 12:52:10,935 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@33c0a38e
2024-03-07 12:52:10,935 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@33c0a38e
2024-03-07 12:52:10,935 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@48e9607c
2024-03-07 12:52:10,935 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@48e9607c
2024-03-07 12:52:10,935 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === end bark
2024-03-07 12:52:10,935 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY</ck:Barcode>
                    <ck:EAN>5010196091008</ck:EAN>
                    <ck:Price>523.45</ck:Price>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040977278</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2026-03-07T10-37-17</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 12:52:10,935 INFO - [Storage.java:62:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === start proc
2024-03-07 12:52:10,935 DEBUG - [Storage.java:67:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV3OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV3OnLine uuid="">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-07T10-37-17</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>2</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211310124001EPW4GTXSJGLJT7961QSYONRWMUC3X8UYOADBWKPJHSIXV6F5PSVC9EQBENYAGU8LFUOTM4BTEIKF306T4QYJB7TL9HRZMVRWZOJSAO1UGBFVKPD5NOCXR49IWVPDEHGFY</ck:Barcode>
                    <ck:EAN>5010196091008</ck:EAN>
                    <ck:Price>523.45</ck:Price>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040977278</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2026-03-07T10-37-17</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV3OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:0
2024-03-07 12:52:10,941 DEBUG - [Storage.java:85:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === <result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 12:52:10,941 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:52:10,942 DEBUG - [Storage.java:92:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === UpdateCount:1
2024-03-07 12:52:10,942 DEBUG - [Storage.java:100:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === Call finished:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 12:52:10,942 INFO - [Storage.java:103:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === end proc
2024-03-07 12:52:10,942 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === sql resp:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 12:52:10,942 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === inc:157
2024-03-07 12:52:10,942 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === send
2024-03-07 12:52:10,942 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-6] = ID: TYPE:ChequeV3OnLine HASH: === final end
</pre>
}}
# Тест ошибок из описания ChequeV4
## Если хотя бы одного бара нет в catering, прекращаем проверку, пишем Error=6, не заполняем в ответе по всем барам элементы формы, алккода, даты, типа.
*Полученный результат по описанию: ставим <ck:Error>6</ck:Error> , не заполняем в ответе элементы формы, алккода, даты, типы.* {{collapse(чек+тикет+лог)
<pre>
<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 15:42:13,726 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0xb140aeee, L:/10.10.4.247:14301 - R:/10.10.4.247:36356]
2024-03-07 15:42:13,726 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 15:42:13,728 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === name:barcodes
2024-03-07 15:42:13,728 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === value:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>

2024-03-07 15:42:13,728 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-07 15:42:13,728 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start
2024-03-07 15:42:13,728 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start process [<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>]
2024-03-07 15:42:13,728 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start transform:030000434308 <ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
2024-03-07 15:42:13,729 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === end transform:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
2024-03-07 15:42:13,730 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start bark
2024-03-07 15:42:13,730 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 15:42:13,730 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === doc type: ChequeV4OnLine
2024-03-07 15:42:13,731 DEBUG - [ChequeV4Parser.java:189:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV4OnLine HASH: === parse catering barcode 200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P
2024-03-07 15:42:13,731 DEBUG - [ChequeV4Parser.java:229:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV4OnLine HASH: === date in cheque: 2024-03-07T12-01-00
2024-03-07 15:42:13,731 INFO - [OnLineChequeV4.java:98:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Start processing.
2024-03-07 15:42:13,731 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === initDB
2024-03-07 15:42:13,733 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4) start
2024-03-07 15:42:13,733 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:0124
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 15:42:13,734 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 15:42:13,734 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4)=0
2024-03-07 15:42:13,734 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4] from [barcodes]
2024-03-07 15:42:13,734 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 15:42:13,735 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [517b4b95628afc5c594bd0770282e2bd:030000434308:9:2024-01-16::] 
2024-03-07 15:42:13,735 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P) start
2024-03-07 15:42:13,735 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P
2024-03-07 15:42:13,736 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 15:42:13,736 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 15:42:13,736 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 15:42:13,736 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:42:13,736 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P
2024-03-07 15:42:13,736 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 15:42:13,736 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:42:13,736 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P
2024-03-07 15:42:13,736 TRACE - [PatternFunction.java:164:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === skip barcode by length:142
2024-03-07 15:42:13,736 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 15:42:13,736 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 15:42:13,736 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P)=0
2024-03-07 15:42:13,736 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P] from [barcodes]
2024-03-07 15:42:13,736 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 15:42:13,737 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P] from [archive2]
2024-03-07 15:42:13,737 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM archive2 WHERE CODE =?
2024-03-07 15:42:13,737 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P] from [archive1]
2024-03-07 15:42:13,737 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM archive1 WHERE CODE =?
2024-03-07 15:42:13,738 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P] from [archive]
2024-03-07 15:42:13,738 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM archive WHERE CODE =?
2024-03-07 15:42:13,739 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [null] 
2024-03-07 15:42:13,739 DEBUG - [OnLineChequeV4.java:377:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === 0b0: [200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P]
2024-03-07 15:42:13,739 DEBUG - [OnLineChequeV4.java:110:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === fail ChequeV4OnLine session = [ru.centerinform.bark.db.hydra.HydraStorekeeper@54d12628]
2024-03-07 15:42:13,739 DEBUG - [OnLineChequeV4.java:111:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Exception: 
ru.centerinform.bark.processor.online.OnLineChequeException: 200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P
	at ru.centerinform.bark.processor.online.OnLineChequeV4.processSale(OnLineChequeV4.java:378) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV4.checkBarcodesInDB(OnLineChequeV4.java:170) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV4.processToString(OnLineChequeV4.java:103) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.DefaultProcessor.process(DefaultProcessor.java:87) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleImpl(DefaultDocumentHandler.java:202) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleXmlDoc(DefaultDocumentHandler.java:146) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handle(DefaultDocumentHandler.java:125) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.Bark.process(Bark.java:241) ~[bark-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.bark(RequestHandler.java:139) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.handleSendReq(RequestHandler.java:84) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.handleHttpContent(HttpFileUploadHandler.java:137) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:67) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:41) ~[bark-v-3.24.0.jar:?]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.http.HttpServerExpectContinueHandler.channelRead(HttpServerExpectContinueHandler.java:95) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1414) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:945) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:141) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2024-03-07 15:42:13,739 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@2b86904f
2024-03-07 15:42:13,740 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@2b86904f
2024-03-07 15:42:13,740 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@36f04815
2024-03-07 15:42:13,740 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@36f04815
2024-03-07 15:42:13,740 DEBUG - [Templater.java:40:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === templatePath:xml/ChequeV4OnlineReplyERR.xml
2024-03-07 15:42:13,740 TRACE - [Templater.java:49:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 15:42:13,740 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@2b86904f
2024-03-07 15:42:13,740 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@2b86904f
2024-03-07 15:42:13,740 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@36f04815
2024-03-07 15:42:13,740 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@36f04815
2024-03-07 15:42:13,740 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end bark
2024-03-07 15:42:13,740 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 15:42:13,741 INFO - [Storage.java:62:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === start proc
2024-03-07 15:42:13,741 DEBUG - [Storage.java:67:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 15:42:13,746 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:42:13,746 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:42:13,746 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:42:13,746 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:42:13,746 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:42:13,746 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:42:13,746 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:42:13,746 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:42:13,746 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:42:13,746 DEBUG - [Storage.java:85:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <result><number>1</number><text>Проверка не пройдена: продукция с данной маркой отсутствует в ЕГАИС (200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P)</text></result>
2024-03-07 15:42:13,746 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:42:13,746 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:42:13,746 DEBUG - [Storage.java:100:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: продукция с данной маркой отсутствует в ЕГАИС (200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P)</text></result>
2024-03-07 15:42:13,746 INFO - [Storage.java:103:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end proc
2024-03-07 15:42:13,746 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: продукция с данной маркой отсутствует в ЕГАИС (200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P)</text></result>
2024-03-07 15:42:13,746 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === inc:404
2024-03-07 15:42:13,747 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === send
2024-03-07 15:42:13,747 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === final end
2024-03-07 15:42:15,062 DEBUG - [::archive1DB housekeeper] = ID: TYPE: HASH: === archive1DB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,062 DEBUG - [::archive1DB housekeeper] = ID: TYPE: HASH: === archive1DB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,063 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,063 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,164 DEBUG - [::HikariPool-1 housekeeper] = ID: TYPE: HASH: === HikariPool-1 - Pool stats (total=32, active=0, idle=32, waiting=0)
2024-03-07 15:42:15,272 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,272 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=0, active=0, idle=0, waiting=0)
2024-03-07 15:42:15,272 DEBUG - [::mainDB connection closer] = ID: TYPE: HASH: === mainDB - Closing connection org.postgresql.jdbc.PgConnection@61fb26cd: (connection has passed idleTimeout)
2024-03-07 15:42:15,294 DEBUG - [::procTypeBC housekeeper] = ID: TYPE: HASH: === procTypeBC - Before cleanup stats (total=4, active=0, idle=4, waiting=0)
2024-03-07 15:42:15,295 DEBUG - [::procTypeBC housekeeper] = ID: TYPE: HASH: === procTypeBC - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2024-03-07 15:42:15,295 DEBUG - [::procTypeBC connection closer] = ID: TYPE: HASH: === procTypeBC - Closing connection net.sourceforge.jtds.jdbc.JtdsConnection@3c5b744c: (connection has passed idleTimeout)
2024-03-07 15:42:15,295 DEBUG - [::procTypeBC connection closer] = ID: TYPE: HASH: === procTypeBC - Closing connection net.sourceforge.jtds.jdbc.JtdsConnection@329c8c6f: (connection has passed idleTimeout)
2024-03-07 15:42:15,298 DEBUG - [::procAlc housekeeper] = ID: TYPE: HASH: === procAlc - Before cleanup stats (total=4, active=0, idle=4, waiting=0)
2024-03-07 15:42:15,298 DEBUG - [::procAlc housekeeper] = ID: TYPE: HASH: === procAlc - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,298 DEBUG - [::procAlc connection closer] = ID: TYPE: HASH: === procAlc - Closing connection net.sourceforge.jtds.jdbc.JtdsConnection@2653e086: (connection has passed idleTimeout)
2024-03-07 15:42:15,298 DEBUG - [::procAlc connection closer] = ID: TYPE: HASH: === procAlc - Closing connection net.sourceforge.jtds.jdbc.JtdsConnection@226c6013: (connection has passed idleTimeout)
2024-03-07 15:42:15,298 DEBUG - [::procAlc connection closer] = ID: TYPE: HASH: === procAlc - Closing connection net.sourceforge.jtds.jdbc.JtdsConnection@2cab8bf6: (connection has passed idleTimeout)
2024-03-07 15:42:15,299 DEBUG - [::procTypeBC connection adder] = ID: TYPE: HASH: === procTypeBC - Added connection net.sourceforge.jtds.jdbc.JtdsConnection@5ff0456c
2024-03-07 15:42:15,301 DEBUG - [::mainDB connection adder] = ID: TYPE: HASH: === mainDB - Added connection org.postgresql.jdbc.PgConnection@6e66eb1c
2024-03-07 15:42:15,301 DEBUG - [::mainDB connection adder] = ID: TYPE: HASH: === mainDB - After adding stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,301 DEBUG - [::procAlc connection adder] = ID: TYPE: HASH: === procAlc - Added connection net.sourceforge.jtds.jdbc.JtdsConnection@46f3c822
2024-03-07 15:42:15,302 DEBUG - [::procTypeBC connection adder] = ID: TYPE: HASH: === procTypeBC - Added connection net.sourceforge.jtds.jdbc.JtdsConnection@5137b0e2
2024-03-07 15:42:15,302 DEBUG - [::procTypeBC connection adder] = ID: TYPE: HASH: === procTypeBC - After adding stats (total=4, active=0, idle=4, waiting=0)
2024-03-07 15:42:15,305 DEBUG - [::procAlc connection adder] = ID: TYPE: HASH: === procAlc - Added connection net.sourceforge.jtds.jdbc.JtdsConnection@48343e8c
2024-03-07 15:42:15,305 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,305 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=0, active=0, idle=0, waiting=0)
2024-03-07 15:42:15,305 DEBUG - [::mainDB connection closer] = ID: TYPE: HASH: === mainDB - Closing connection org.postgresql.jdbc.PgConnection@7f1aba37: (connection has passed idleTimeout)
2024-03-07 15:42:15,308 DEBUG - [::procAlc connection adder] = ID: TYPE: HASH: === procAlc - Added connection net.sourceforge.jtds.jdbc.JtdsConnection@4c0ba352
2024-03-07 15:42:15,308 DEBUG - [::procAlc connection adder] = ID: TYPE: HASH: === procAlc - After adding stats (total=4, active=0, idle=4, waiting=0)
2024-03-07 15:42:15,334 DEBUG - [::mainDB connection adder] = ID: TYPE: HASH: === mainDB - Added connection org.postgresql.jdbc.PgConnection@57c5af89
2024-03-07 15:42:15,334 DEBUG - [::mainDB connection adder] = ID: TYPE: HASH: === mainDB - After adding stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,375 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,375 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=0, active=0, idle=0, waiting=0)
2024-03-07 15:42:15,376 DEBUG - [::mainDB connection closer] = ID: TYPE: HASH: === mainDB - Closing connection org.postgresql.jdbc.PgConnection@3733ed1b: (connection has passed idleTimeout)
2024-03-07 15:42:15,381 DEBUG - [::barcheck_SVS_test housekeeper] = ID: TYPE: HASH: === barcheck_SVS_test - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,381 DEBUG - [::barcheck_SVS_test housekeeper] = ID: TYPE: HASH: === barcheck_SVS_test - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,403 DEBUG - [::mainDB connection adder] = ID: TYPE: HASH: === mainDB - Added connection org.postgresql.jdbc.PgConnection@4a7f839a
2024-03-07 15:42:15,403 DEBUG - [::mainDB connection adder] = ID: TYPE: HASH: === mainDB - After adding stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,411 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:42:15,411 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=0, active=0, idle=0, waiting=0)
2024-03-07 15:42:15,411 DEBUG - [::mainDB connection closer] = ID: TYPE: HASH: === mainDB - Closing connection org.postgresql.jdbc.PgConnection@188f0523: (connection has passed idleTimeout)
2024-03-07 15:42:15,436 DEBUG - [::mainDB connection adder] = ID: TYPE: HASH: === mainDB - Added connection org.postgresql.jdbc.PgConnection@33e3c0b0
2024-03-07 15:42:15,436 DEBUG - [::mainDB connection adder] = ID: TYPE: HASH: === mainDB - After adding stats (total=1, active=0, idle=1, waiting=0)
</pre>
}}
## Если хотя бы одного бара нет в bottle, прекращаем проверку, пишем Error=6, не заполняем в ответе по всем барам элементы формы, алккода, даты, типа.
*Полученный результат по описанию: ставим <ck:Error>6</ck:Error> , не заполняем в ответе элементы формы, алккода, даты, типы.* {{collapse(чек+тикет+лог)
<pre>
<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 15:46:45,064 DEBUG - [::archive1DB housekeeper] = ID: TYPE: HASH: === archive1DB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,064 DEBUG - [::archive1DB housekeeper] = ID: TYPE: HASH: === archive1DB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,065 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,065 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,166 DEBUG - [::HikariPool-1 housekeeper] = ID: TYPE: HASH: === HikariPool-1 - Pool stats (total=32, active=0, idle=32, waiting=0)
2024-03-07 15:46:45,274 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,274 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,298 DEBUG - [::procTypeBC housekeeper] = ID: TYPE: HASH: === procTypeBC - Before cleanup stats (total=4, active=0, idle=4, waiting=0)
2024-03-07 15:46:45,298 DEBUG - [::procTypeBC housekeeper] = ID: TYPE: HASH: === procTypeBC - After cleanup  stats (total=4, active=0, idle=4, waiting=0)
2024-03-07 15:46:45,302 DEBUG - [::procAlc housekeeper] = ID: TYPE: HASH: === procAlc - Before cleanup stats (total=4, active=0, idle=4, waiting=0)
2024-03-07 15:46:45,302 DEBUG - [::procAlc housekeeper] = ID: TYPE: HASH: === procAlc - After cleanup  stats (total=4, active=0, idle=4, waiting=0)
2024-03-07 15:46:45,308 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,308 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,378 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,378 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,383 DEBUG - [::barcheck_SVS_test housekeeper] = ID: TYPE: HASH: === barcheck_SVS_test - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,383 DEBUG - [::barcheck_SVS_test housekeeper] = ID: TYPE: HASH: === barcheck_SVS_test - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,414 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,414 DEBUG - [::mainDB housekeeper] = ID: TYPE: HASH: === mainDB - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2024-03-07 15:46:45,653 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0xfd39ef06, L:/10.10.4.247:14301 - R:/10.10.4.247:37360]
2024-03-07 15:46:45,653 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 15:46:45,655 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === name:barcodes
2024-03-07 15:46:45,655 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === value:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>

2024-03-07 15:46:45,655 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-07 15:46:45,655 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start
2024-03-07 15:46:45,655 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start process [<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>]
2024-03-07 15:46:45,655 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start transform:030000434308 <ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
2024-03-07 15:46:45,656 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === end transform:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
2024-03-07 15:46:45,657 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start bark
2024-03-07 15:46:45,657 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 15:46:45,657 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === doc type: ChequeV4OnLine
2024-03-07 15:46:45,658 DEBUG - [ChequeV4Parser.java:189:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV4OnLine HASH: === parse catering barcode 200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4
2024-03-07 15:46:45,658 DEBUG - [ChequeV4Parser.java:229:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV4OnLine HASH: === date in cheque: 2024-03-07T12-01-00
2024-03-07 15:46:45,658 INFO - [OnLineChequeV4.java:98:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Start processing.
2024-03-07 15:46:45,658 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === initDB
2024-03-07 15:46:45,663 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P) start
2024-03-07 15:46:45,663 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P
2024-03-07 15:46:45,663 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 15:46:45,663 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 15:46:45,663 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 15:46:45,663 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:46:45,663 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P
2024-03-07 15:46:45,663 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 15:46:45,663 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:46:45,663 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P
2024-03-07 15:46:45,663 TRACE - [PatternFunction.java:164:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === skip barcode by length:142
2024-03-07 15:46:45,663 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 15:46:45,663 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 15:46:45,663 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P)=0
2024-03-07 15:46:45,663 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P] from [barcodes]
2024-03-07 15:46:45,663 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 15:46:45,665 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [null] 
2024-03-07 15:46:45,665 DEBUG - [OnLineChequeV4.java:377:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === 0b0: [200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P]
2024-03-07 15:46:45,665 DEBUG - [OnLineChequeV4.java:110:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === fail ChequeV4OnLine session = [ru.centerinform.bark.db.hydra.HydraStorekeeper@1aec372f]
2024-03-07 15:46:45,665 DEBUG - [OnLineChequeV4.java:111:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Exception: 
ru.centerinform.bark.processor.online.OnLineChequeException: 200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P
	at ru.centerinform.bark.processor.online.OnLineChequeV4.processSale(OnLineChequeV4.java:378) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV4.checkBarcodesInDB(OnLineChequeV4.java:170) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV4.processToString(OnLineChequeV4.java:103) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.DefaultProcessor.process(DefaultProcessor.java:87) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleImpl(DefaultDocumentHandler.java:202) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleXmlDoc(DefaultDocumentHandler.java:146) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handle(DefaultDocumentHandler.java:125) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.Bark.process(Bark.java:241) ~[bark-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.bark(RequestHandler.java:139) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.handleSendReq(RequestHandler.java:84) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.handleHttpContent(HttpFileUploadHandler.java:137) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:67) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:41) ~[bark-v-3.24.0.jar:?]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.http.HttpServerExpectContinueHandler.channelRead(HttpServerExpectContinueHandler.java:95) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1414) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:945) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:141) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2024-03-07 15:46:45,665 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@2799524
2024-03-07 15:46:45,666 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@2799524
2024-03-07 15:46:45,666 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@4d5d163e
2024-03-07 15:46:45,668 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@4d5d163e
2024-03-07 15:46:45,669 DEBUG - [Templater.java:40:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === templatePath:xml/ChequeV4OnlineReplyERR.xml
2024-03-07 15:46:45,669 TRACE - [Templater.java:49:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 15:46:45,669 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@2799524
2024-03-07 15:46:45,669 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@2799524
2024-03-07 15:46:45,669 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@4d5d163e
2024-03-07 15:46:45,669 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@4d5d163e
2024-03-07 15:46:45,669 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end bark
2024-03-07 15:46:45,669 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 15:46:45,669 INFO - [Storage.java:62:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === start proc
2024-03-07 15:46:45,669 DEBUG - [Storage.java:67:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 15:46:45,673 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:46:45,673 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:46:45,673 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:46:45,673 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:46:45,674 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:46:45,674 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:46:45,674 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:46:45,674 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:46:45,674 DEBUG - [Storage.java:85:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <result><number>1</number><text>Проверка не пройдена: продукция с данной маркой отсутствует в ЕГАИС (200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P)</text></result>
2024-03-07 15:46:45,674 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:46:45,674 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:46:45,674 DEBUG - [Storage.java:100:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: продукция с данной маркой отсутствует в ЕГАИС (200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P)</text></result>
2024-03-07 15:46:45,674 INFO - [Storage.java:103:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end proc
2024-03-07 15:46:45,674 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: продукция с данной маркой отсутствует в ЕГАИС (200200303216440124001QX2WE8MCMYRL70X1PDSHQNUGJIECW3K6VKLYZ2I5WWCRFBOBKZJCU6KX4N7TQLVVID1H3TXMSAOB3CROHX7PTIVXFEW8Z52YBNHLTM1YKLDIDWV6KW48MVC7P)</text></result>
2024-03-07 15:46:45,674 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === inc:411
2024-03-07 15:46:45,674 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === send
2024-03-07 15:46:45,674 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === final end
</pre>
}}
##  Если бар есть в catering, но у него неправильный владелец(0b2 = Некорректный владелец:? ШК ?), обычным образом получаем форму, алккод, дату, тип, заполняем ими ответ, не пишем Error=6
%{color:red; font-weight:bold}Полученный результат по описанию: взял марку другого владельца и поместил в чек, Проверка не пройдена: продукция не внесена в поштучный учет, также записали Error=6%  {{collapse(чек+тикет+лог)
<pre>
<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 15:48:42,597 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0xfad95a0a, L:/10.10.4.247:14301 - R:/10.10.4.247:37830]
2024-03-07 15:48:42,598 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 15:48:42,600 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === name:barcodes
2024-03-07 15:48:42,600 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === value:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>

2024-03-07 15:48:42,600 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-07 15:48:42,600 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === start
2024-03-07 15:48:42,600 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === start process [<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>]
2024-03-07 15:48:42,600 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === start transform:030000434308 <ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
2024-03-07 15:48:42,601 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === end transform:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
2024-03-07 15:48:42,602 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === start bark
2024-03-07 15:48:42,602 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 15:48:42,602 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === doc type: ChequeV4OnLine
2024-03-07 15:48:42,603 DEBUG - [ChequeV4Parser.java:189:nioEventLoopGroup-3-5] = ID: TYPE:ChequeV4OnLine HASH: === parse catering barcode 9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C
2024-03-07 15:48:42,603 DEBUG - [ChequeV4Parser.java:229:nioEventLoopGroup-3-5] = ID: TYPE:ChequeV4OnLine HASH: === date in cheque: 2024-03-07T12-01-00
2024-03-07 15:48:42,603 INFO - [OnLineChequeV4.java:98:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Start processing.
2024-03-07 15:48:42,603 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === initDB
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C) start
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:0677
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 15:48:42,605 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 15:48:42,605 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C)=0
2024-03-07 15:48:42,605 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C] from [barcodes]
2024-03-07 15:48:42,606 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 15:48:42,606 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [707335872c77090503641a55e7797c5d:030000434309:9:2024-02-27::] 
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4) start
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:0124
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 15:48:42,607 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 15:48:42,607 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4)=0
2024-03-07 15:48:42,607 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4] from [barcodes]
2024-03-07 15:48:42,607 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 15:48:42,608 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [517b4b95628afc5c594bd0770282e2bd:030000434308:9:2024-01-16::] 
2024-03-07 15:48:42,608 ERROR - [OnLineChequeV4.java:433:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Онлайн проверка не пройдена. Fsrarid:030000434308, idenyity:1, barcode:9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C. Неверный владелец.
2024-03-07 15:48:42,608 DEBUG - [OnLineChequeV4.java:110:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === fail ChequeV4OnLine session = [ru.centerinform.bark.db.hydra.HydraStorekeeper@4706e361]
2024-03-07 15:48:42,608 DEBUG - [OnLineChequeV4.java:111:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Exception: 
ru.centerinform.bark.processor.online.OnLineChequeException: 9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C
	at ru.centerinform.bark.processor.online.OnLineChequeV4.checkOwner(OnLineChequeV4.java:435) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV4.executeMainChecks(OnLineChequeV4.java:187) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV4.processToString(OnLineChequeV4.java:104) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.DefaultProcessor.process(DefaultProcessor.java:87) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleImpl(DefaultDocumentHandler.java:202) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleXmlDoc(DefaultDocumentHandler.java:146) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handle(DefaultDocumentHandler.java:125) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.Bark.process(Bark.java:241) ~[bark-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.bark(RequestHandler.java:139) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.handleSendReq(RequestHandler.java:84) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.handleHttpContent(HttpFileUploadHandler.java:137) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:67) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:41) ~[bark-v-3.24.0.jar:?]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.http.HttpServerExpectContinueHandler.channelRead(HttpServerExpectContinueHandler.java:95) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1414) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:945) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:141) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2024-03-07 15:48:42,608 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@36371ff5
2024-03-07 15:48:42,608 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@36371ff5
2024-03-07 15:48:42,608 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@49b5e19a
2024-03-07 15:48:42,609 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@49b5e19a
2024-03-07 15:48:42,609 DEBUG - [Templater.java:40:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === templatePath:xml/ChequeV4OnlineReplyERR.xml
2024-03-07 15:48:42,609 TRACE - [Templater.java:49:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 15:48:42,609 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@36371ff5
2024-03-07 15:48:42,609 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@36371ff5
2024-03-07 15:48:42,609 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@49b5e19a
2024-03-07 15:48:42,609 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@49b5e19a
2024-03-07 15:48:42,609 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end bark
2024-03-07 15:48:42,609 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 15:48:42,609 INFO - [Storage.java:62:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === start proc
2024-03-07 15:48:42,609 DEBUG - [Storage.java:67:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 15:48:42,614 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:48:42,614 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:48:42,614 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:48:42,614 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:48:42,614 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:48:42,614 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:48:42,614 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:48:42,614 DEBUG - [Storage.java:85:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C)</text></result>
2024-03-07 15:48:42,614 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:48:42,614 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:48:42,614 DEBUG - [Storage.java:100:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C)</text></result>
2024-03-07 15:48:42,614 INFO - [Storage.java:103:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end proc
2024-03-07 15:48:42,614 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C)</text></result>
2024-03-07 15:48:42,614 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === inc:414
2024-03-07 15:48:42,614 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === send
2024-03-07 15:48:42,615 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === final end
</pre>
}}
##  Если бар есть в bottle, но у него неправильный владелец(0b2 = Некорректный владелец:? ШК ?), обычным образом получаем форму, алккод, дату, тип, заполняем ими ответ, не пишем Error=6
%{color:red; font-weight:bold}Полученный результат по описанию: взял марку другого владельца и поместил в чек, Проверка не пройдена: продукция не внесена в поштучный учет, также записали Error=6%  {{collapse(чек+тикет+лог)
<pre>
<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 15:49:58,932 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0x2b4a490d, L:/10.10.4.247:14301 - R:/10.10.4.247:38058]
2024-03-07 15:49:58,932 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 15:49:58,934 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === name:barcodes
2024-03-07 15:49:58,934 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === value:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>

2024-03-07 15:49:58,934 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-07 15:49:58,934 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === start
2024-03-07 15:49:58,934 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === start process [<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>]
2024-03-07 15:49:58,934 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === start transform:030000434308 <ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
2024-03-07 15:49:58,935 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === end transform:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
2024-03-07 15:49:58,936 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === start bark
2024-03-07 15:49:58,936 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 15:49:58,937 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === doc type: ChequeV4OnLine
2024-03-07 15:49:58,937 DEBUG - [ChequeV4Parser.java:189:nioEventLoopGroup-3-7] = ID: TYPE:ChequeV4OnLine HASH: === parse catering barcode 200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4
2024-03-07 15:49:58,937 DEBUG - [ChequeV4Parser.java:229:nioEventLoopGroup-3-7] = ID: TYPE:ChequeV4OnLine HASH: === date in cheque: 2024-03-07T12-01-00
2024-03-07 15:49:58,937 INFO - [OnLineChequeV4.java:98:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Start processing.
2024-03-07 15:49:58,937 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === initDB
2024-03-07 15:49:58,939 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C) start
2024-03-07 15:49:58,939 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C
2024-03-07 15:49:58,939 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 15:49:58,939 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 15:49:58,939 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 15:49:58,939 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:49:58,939 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C
2024-03-07 15:49:58,939 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 15:49:58,939 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:49:58,940 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C
2024-03-07 15:49:58,940 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:0677
2024-03-07 15:49:58,940 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-07 15:49:58,940 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-07 15:49:58,940 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-07 15:49:58,940 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 15:49:58,940 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 15:49:58,940 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C)=0
2024-03-07 15:49:58,940 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C] from [barcodes]
2024-03-07 15:49:58,940 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 15:49:58,941 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [707335872c77090503641a55e7797c5d:030000434309:9:2024-02-27::] 
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4) start
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:0124
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 15:49:58,941 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 15:49:58,941 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4)=0
2024-03-07 15:49:58,941 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200303211180124001T4SJ9PGEFA6I3CNEZKFKR5WUMMYWBQTOGVDVJITSJ8CFY2GPWL5UXDR6RVIKMDSHZUPOE09Z5EX7CBP4IDJ0JKVWTDTOGYZKMGLQAUVHF2CBROC9B6KMESYZJ0P7UBZF4] from [barcodes]
2024-03-07 15:49:58,941 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 15:49:58,942 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [517b4b95628afc5c594bd0770282e2bd:030000434308:9:2024-01-16::] 
2024-03-07 15:49:58,942 ERROR - [OnLineChequeV4.java:433:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Онлайн проверка не пройдена. Fsrarid:030000434308, idenyity:1, barcode:9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C. Неверный владелец.
2024-03-07 15:49:58,942 DEBUG - [OnLineChequeV4.java:110:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === fail ChequeV4OnLine session = [ru.centerinform.bark.db.hydra.HydraStorekeeper@76dcb45f]
2024-03-07 15:49:58,942 DEBUG - [OnLineChequeV4.java:111:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Exception: 
ru.centerinform.bark.processor.online.OnLineChequeException: 9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C
	at ru.centerinform.bark.processor.online.OnLineChequeV4.checkOwner(OnLineChequeV4.java:435) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV4.executeMainChecks(OnLineChequeV4.java:187) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV4.processToString(OnLineChequeV4.java:104) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.DefaultProcessor.process(DefaultProcessor.java:87) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleImpl(DefaultDocumentHandler.java:202) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleXmlDoc(DefaultDocumentHandler.java:146) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handle(DefaultDocumentHandler.java:125) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.Bark.process(Bark.java:241) ~[bark-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.bark(RequestHandler.java:139) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.handleSendReq(RequestHandler.java:84) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.handleHttpContent(HttpFileUploadHandler.java:137) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:67) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:41) ~[bark-v-3.24.0.jar:?]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.http.HttpServerExpectContinueHandler.channelRead(HttpServerExpectContinueHandler.java:95) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1414) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:945) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:141) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2024-03-07 15:49:58,942 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@7a0500f
2024-03-07 15:49:58,942 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@7a0500f
2024-03-07 15:49:58,942 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@2423e526
2024-03-07 15:49:58,943 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@2423e526
2024-03-07 15:49:58,943 DEBUG - [Templater.java:40:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === templatePath:xml/ChequeV4OnlineReplyERR.xml
2024-03-07 15:49:58,943 TRACE - [Templater.java:49:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 15:49:58,943 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@7a0500f
2024-03-07 15:49:58,943 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@7a0500f
2024-03-07 15:49:58,943 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@2423e526
2024-03-07 15:49:58,943 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@2423e526
2024-03-07 15:49:58,943 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end bark
2024-03-07 15:49:58,943 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 15:49:58,943 INFO - [Storage.java:62:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === start proc
2024-03-07 15:49:58,943 DEBUG - [Storage.java:67:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 15:49:58,948 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:49:58,948 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:49:58,948 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:49:58,948 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:49:58,948 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:49:58,948 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 15:49:58,948 DEBUG - [Storage.java:85:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C)</text></result>
2024-03-07 15:49:58,948 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:49:58,948 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 15:49:58,948 DEBUG - [Storage.java:100:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C)</text></result>
2024-03-07 15:49:58,948 INFO - [Storage.java:103:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end proc
2024-03-07 15:49:58,948 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (9969780723623706775674GLN5TU16BJV1OCY8X6L3LQPBPAYDXJ4Y7C1MK1BFP5EF3F9YYR92UL4C7V3G7ZRA5RDJXFVH32FU9S0UNXR69KRT3MIWZGFG56AO2VWJIGPUPK6ARMDKPV8EJPYH628C)</text></result>
2024-03-07 15:49:58,948 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === inc:416
2024-03-07 15:49:58,948 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === send
2024-03-07 15:49:58,949 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === final end
</pre>
}}
##  Если бар есть в сatering, но у него неправильный тип, обычным образом получаем форму, алккод, дату, тип, заполняем ими ответ, не пишем Error=6
%{font-weight:bold}Полученный результат по описанию: Отправляю после AWO, Проверка пройдена, <ck:Error>0</ck:Error>, по марке все значения получены, был произведен поиск в архиве, Только, когда у нас остается в архиве объем 0 и мы попробуем сделать продажу - получим ошибку неправильного типа% {{collapse(чек+тикет+лог)
<pre>
<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>500</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>500</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>500</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040980497</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>19</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-11 12:42:54,438 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0x54fa3b41, L:/10.10.4.247:14301 - R:/10.10.4.247:51314]
2024-03-11 12:42:54,438 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-11 12:42:54,439 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === name:barcodes
2024-03-11 12:42:54,439 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === value:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>500</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>

2024-03-11 12:42:54,439 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-11 12:42:54,439 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start
2024-03-11 12:42:54,439 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start process [<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>500</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>]
2024-03-11 12:42:54,439 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start transform:030000434308 <ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>500</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
2024-03-11 12:42:54,440 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === end transform:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>500</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
2024-03-11 12:42:54,440 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start bark
2024-03-11 12:42:54,440 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-11 12:42:54,441 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === doc type: ChequeV4OnLine
2024-03-11 12:42:54,441 DEBUG - [ChequeV4Parser.java:189:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV4OnLine HASH: === parse catering barcode 200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A
2024-03-11 12:42:54,441 DEBUG - [ChequeV4Parser.java:229:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV4OnLine HASH: === date in cheque: 2022-03-07T12-01-00
2024-03-11 12:42:54,441 INFO - [OnLineChequeV4.java:98:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Start processing.
2024-03-11 12:42:54,441 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === initDB
2024-03-11 12:42:54,442 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A) start
2024-03-11 12:42:54,442 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A
2024-03-11 12:42:54,442 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-11 12:42:54,442 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-11 12:42:54,442 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-11 12:42:54,442 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-11 12:42:54,443 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A
2024-03-11 12:42:54,443 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-11 12:42:54,443 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-11 12:42:54,443 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A
2024-03-11 12:42:54,443 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:0324
2024-03-11 12:42:54,443 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-11 12:42:54,443 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-11 12:42:54,443 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-11 12:42:54,443 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-11 12:42:54,443 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-11 12:42:54,443 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A)=0
2024-03-11 12:42:54,443 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A] from [barcodes]
2024-03-11 12:42:54,443 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-11 12:42:54,443 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A] from [archive2]
2024-03-11 12:42:54,444 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM archive2 WHERE CODE =?
2024-03-11 12:42:54,444 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [d69caaf4865425f23c4f4d4eadf1a7a8:030000434308:19:2024-03-07T00-00-00::] 
2024-03-11 12:42:54,444 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [d69caaf4865425f23c4f4d4eadf1a7a8] from [chains2]
2024-03-11 12:42:54,444 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM chains2 WHERE CODE =?
2024-03-11 12:42:54,445 TRACE - [AlcodeFinder.java:68:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Look in alccodesMap: [TEST-FB-000000040980497]
2024-03-11 12:42:54,445 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:alccodes/TEST-FB-000000040980497 {}
2024-03-11 12:42:54,446 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:alccodes/TEST-FB-000000040980497 0300004343080000001
2024-03-11 12:42:54,446 DEBUG - [AlcodeFinder.java:77:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === foundAlcCode : [0300004343080000001]
2024-03-11 12:42:54,446 TRACE - [JedisExpireCache.java:48:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put start:alccodes/TEST-FB-000000040980497 0300004343080000001
2024-03-11 12:42:54,446 TRACE - [JedisExpireCache.java:50:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === exp :alccodes/TEST-FB-000000040980497 604800
2024-03-11 12:42:54,446 TRACE - [JedisExpireCache.java:52:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put end:alccodes/TEST-FB-000000040980497 0300004343080000001
2024-03-11 12:42:54,446 DEBUG - [JDBCStringStore.java:71:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put: [TEST-FB-000000040980497]=[0300004343080000001] in [alccodes]
2024-03-11 12:42:54,447 DEBUG - [JDBCStringStore.java:163:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [TEST-FB-000000040980497]=[0300004343080000001] in [alccodes]
2024-03-11 12:42:54,447 DEBUG - [JDBCStringStore.java:165:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === INSERT INTO alccodes  (CODE, VAL) VALUES (?,?)  ON CONFLICT (CODE)  DO UPDATE SET VAL = ?
2024-03-11 12:42:54,448 DEBUG - [JDBCStringStore.java:172:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [1]
2024-03-11 12:42:54,448 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:catering/200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A {}
2024-03-11 12:42:54,449 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:catering/200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A null
2024-03-11 12:42:54,449 DEBUG - [BarcodesStorage.java:117:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === hasBarcodeTable: 030000434308
2024-03-11 12:42:54,449 DEBUG - [BarcodesStorage.java:144:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Found cached barcodes:030000434308 true
2024-03-11 12:42:54,449 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A] from [barcodes_030000434308]
2024-03-11 12:42:54,449 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes_030000434308 WHERE CODE =?
2024-03-11 12:42:54,450 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [0300004343080000001] from [volumes]
2024-03-11 12:42:54,450 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM volumes WHERE CODE =?
2024-03-11 12:42:54,451 TRACE - [JedisExpireCache.java:89:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put all start:catering {200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A=0}
2024-03-11 12:42:54,451 TRACE - [JedisExpireCache.java:93:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === exp :catering/200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A 3000
2024-03-11 12:42:54,452 TRACE - [JedisExpireCache.java:96:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put all end:catering 
2024-03-11 12:42:54,452 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@5e7f48a3
2024-03-11 12:42:54,453 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@5e7f48a3
2024-03-11 12:42:54,453 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@94bee0f
2024-03-11 12:42:54,453 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@94bee0f
2024-03-11 12:42:54,453 INFO - [OnLineChequeV4.java:120:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === End processing.
2024-03-11 12:42:54,454 DEBUG - [Templater.java:40:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === templatePath:xml/ChequeV4OnlineReplyOK.xml
2024-03-11 12:42:54,454 TRACE - [Templater.java:49:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>500</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>500</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040980497</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>19</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-11 12:42:54,454 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@5e7f48a3
2024-03-11 12:42:54,454 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@5e7f48a3
2024-03-11 12:42:54,454 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@94bee0f
2024-03-11 12:42:54,454 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@94bee0f
2024-03-11 12:42:54,454 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end bark
2024-03-11 12:42:54,454 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>500</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>500</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040980497</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>19</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-11 12:42:54,454 INFO - [Storage.java:62:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === start proc
2024-03-11 12:42:54,454 DEBUG - [Storage.java:67:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>500</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>500</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040980497</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>19</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-11 12:42:54,459 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-11 12:42:54,459 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-11 12:42:54,459 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-11 12:42:54,459 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-11 12:42:54,459 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-11 12:42:54,459 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-11 12:42:54,460 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-11 12:42:54,460 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-11 12:42:54,460 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-11 12:42:54,460 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-11 12:42:54,460 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-11 12:42:54,460 DEBUG - [Storage.java:85:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <result><number>0</number><text>Проверка пройдена</text></result>
2024-03-11 12:42:54,460 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-11 12:42:54,460 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-11 12:42:54,460 DEBUG - [Storage.java:100:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call finished:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-11 12:42:54,460 INFO - [Storage.java:103:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end proc
2024-03-11 12:42:54,460 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === sql resp:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-11 12:42:54,460 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === inc:6226
2024-03-11 12:42:54,460 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === send
2024-03-11 12:42:54,460 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === final end
</pre>
}}
##  Если бар есть в bottle, но у него неправильный тип, обычным образом получаем форму, алккод, дату, тип, заполняем ими ответ, не пишем Error=6
%{color:red;font-weight:bold}Полученный результат по описанию: Отправляю после AWO, Проверка не пройдена: продукция не внесена в поштучный учет, <ck:Error>6</ck:Error>, Проверки по архиву не производятся%{{collapse(чек+тикет+лог)
<pre>
<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-11T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-11T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-11 12:49:07,436 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0xaff3494f, L:/10.10.4.247:14301 - R:/10.10.4.247:52754]
2024-03-11 12:49:07,436 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-11 12:49:07,438 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === name:barcodes
2024-03-11 12:49:07,438 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === value:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-11T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>

2024-03-11 12:49:07,438 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-11 12:49:07,438 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start
2024-03-11 12:49:07,438 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start process [<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-11T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>]
2024-03-11 12:49:07,438 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start transform:030000434308 <ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-11T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
2024-03-11 12:49:07,439 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === end transform:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-11T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
2024-03-11 12:49:07,439 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start bark
2024-03-11 12:49:07,439 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-11 12:49:07,439 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === doc type: ChequeV4OnLine
2024-03-11 12:49:07,440 DEBUG - [ChequeV4Parser.java:229:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV4OnLine HASH: === date in cheque: 2026-03-11T12-01-00
2024-03-11 12:49:07,440 INFO - [OnLineChequeV4.java:98:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Start processing.
2024-03-11 12:49:07,440 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === initDB
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V) start
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:0324
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-11 12:49:07,441 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-11 12:49:07,441 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V)=0
2024-03-11 12:49:07,441 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V] from [barcodes]
2024-03-11 12:49:07,441 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-11 12:49:07,442 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [null] 
2024-03-11 12:49:07,442 DEBUG - [OnLineChequeV4.java:377:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === 0b0: [200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V]
2024-03-11 12:49:07,442 DEBUG - [OnLineChequeV4.java:110:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === fail ChequeV4OnLine session = [ru.centerinform.bark.db.hydra.HydraStorekeeper@44ddf566]
2024-03-11 12:49:07,442 DEBUG - [OnLineChequeV4.java:111:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Exception: 
ru.centerinform.bark.processor.online.OnLineChequeException: 200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V
	at ru.centerinform.bark.processor.online.OnLineChequeV4.processSale(OnLineChequeV4.java:378) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV4.checkBarcodesInDB(OnLineChequeV4.java:170) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV4.processToString(OnLineChequeV4.java:103) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.DefaultProcessor.process(DefaultProcessor.java:87) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleImpl(DefaultDocumentHandler.java:202) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleXmlDoc(DefaultDocumentHandler.java:146) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handle(DefaultDocumentHandler.java:125) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.Bark.process(Bark.java:241) ~[bark-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.bark(RequestHandler.java:139) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.handleSendReq(RequestHandler.java:84) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.handleHttpContent(HttpFileUploadHandler.java:137) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:67) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:41) ~[bark-v-3.24.0.jar:?]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.http.HttpServerExpectContinueHandler.channelRead(HttpServerExpectContinueHandler.java:95) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1414) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:945) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:141) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2024-03-11 12:49:07,442 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@6830b58f
2024-03-11 12:49:07,443 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@6830b58f
2024-03-11 12:49:07,443 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@417263c9
2024-03-11 12:49:07,443 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@417263c9
2024-03-11 12:49:07,444 DEBUG - [Templater.java:40:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === templatePath:xml/ChequeV4OnlineReplyERR.xml
2024-03-11 12:49:07,444 TRACE - [Templater.java:49:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-11T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-11 12:49:07,444 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@6830b58f
2024-03-11 12:49:07,444 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@6830b58f
2024-03-11 12:49:07,444 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@417263c9
2024-03-11 12:49:07,444 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@417263c9
2024-03-11 12:49:07,444 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end bark
2024-03-11 12:49:07,444 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-11T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-11 12:49:07,444 INFO - [Storage.java:62:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === start proc
2024-03-11 12:49:07,444 DEBUG - [Storage.java:67:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-11T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V</ck:Barcode>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-11 12:49:07,448 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-11 12:49:07,448 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-11 12:49:07,448 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-11 12:49:07,448 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-11 12:49:07,448 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-11 12:49:07,448 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-11 12:49:07,448 DEBUG - [Storage.java:85:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V)</text></result>
2024-03-11 12:49:07,448 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-11 12:49:07,448 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-11 12:49:07,448 DEBUG - [Storage.java:100:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V)</text></result>
2024-03-11 12:49:07,448 INFO - [Storage.java:103:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end proc
2024-03-11 12:49:07,448 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200000560040324001SHVGPO4ZA6ILSH1UMWIV75MRDQ2EUS0XNTE9BDW8NSVYTNUEMQYCOHFOMIJS46J7XLV5UIQ2PUNIEZCLCRMOHDNVK3U8FB26TJYMRKVZPEWJVSGHC2WTD8IP4CKLHSQ6V)</text></result>
2024-03-11 12:49:07,448 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === inc:6235
2024-03-11 12:49:07,448 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === send
2024-03-11 12:49:07,449 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === final end
</pre>
}}
# Тест всех возможных ошибок от барка ChequeV4
## Отправка обычного чека, без ошибок
*Полученный результат по описанию: Документ успешно обработался, в ответе заполнены все элементы формы, алккода, даты, типа* {{collapse(чек+тикет+лог)
<pre>
<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>500</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2024-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
                <ck:Bottle>
                    <ck:Barcode>200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2024-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 16:15:35,929 DEBUG - [::HikariPool-1 connection closer] = ID: TYPE: HASH: === HikariPool-1 - Closing connection net.sourceforge.jtds.jdbc.JtdsConnection@1829f351: (connection has passed maxLifetime)
2024-03-07 16:15:35,932 DEBUG - [::HikariPool-1 connection adder] = ID: TYPE: HASH: === HikariPool-1 - Added connection net.sourceforge.jtds.jdbc.JtdsConnection@74cbc352
2024-03-07 16:15:36,394 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0x55569a7a, L:/10.10.4.247:14301 - R:/10.10.4.247:43792]
2024-03-07 16:15:36,395 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 16:15:36,396 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === name:barcodes
2024-03-07 16:15:36,396 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === value:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>

2024-03-07 16:15:36,396 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-07 16:15:36,396 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start
2024-03-07 16:15:36,396 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start process [<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>]
2024-03-07 16:15:36,396 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start transform:030000434308 <ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
2024-03-07 16:15:36,397 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === end transform:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
2024-03-07 16:15:36,397 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === start bark
2024-03-07 16:15:36,397 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 16:15:36,398 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-3] = ID: TYPE: HASH: === doc type: ChequeV4OnLine
2024-03-07 16:15:36,398 DEBUG - [ChequeV4Parser.java:189:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV4OnLine HASH: === parse catering barcode 2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3
2024-03-07 16:15:36,398 DEBUG - [ChequeV4Parser.java:229:nioEventLoopGroup-3-3] = ID: TYPE:ChequeV4OnLine HASH: === date in cheque: 2024-03-07T12-01-00
2024-03-07 16:15:36,398 INFO - [OnLineChequeV4.java:98:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Start processing.
2024-03-07 16:15:36,398 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === initDB
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3) start
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:0923
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 16:15:36,400 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 16:15:36,400 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3)=0
2024-03-07 16:15:36,400 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3] from [barcodes]
2024-03-07 16:15:36,400 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 16:15:36,401 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [b4f096981ac48d097e014f0d97c38410:030000434308:9:2023-09-15::] 
2024-03-07 16:15:36,401 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG) start
2024-03-07 16:15:36,401 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG
2024-03-07 16:15:36,401 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 16:15:36,401 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 16:15:36,401 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 16:15:36,401 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 16:15:36,401 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG
2024-03-07 16:15:36,401 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 16:15:36,401 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 16:15:36,401 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG
2024-03-07 16:15:36,401 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:0923
2024-03-07 16:15:36,402 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-07 16:15:36,402 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-07 16:15:36,402 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-07 16:15:36,402 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 16:15:36,402 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 16:15:36,402 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG)=0
2024-03-07 16:15:36,402 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG] from [barcodes]
2024-03-07 16:15:36,402 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 16:15:36,456 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [b4f096981ac48d097e014f0d97c38410:030000434308:9:2023-09-15::] 
2024-03-07 16:15:36,456 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [b4f096981ac48d097e014f0d97c38410] from [chains2]
2024-03-07 16:15:36,456 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM chains2 WHERE CODE =?
2024-03-07 16:15:36,457 TRACE - [AlcodeFinder.java:68:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Look in alccodesMap: [TEST-FB-000000040964745]
2024-03-07 16:15:36,457 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:alccodes/TEST-FB-000000040964745 {}
2024-03-07 16:15:36,458 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:alccodes/TEST-FB-000000040964745 0300004343080000001
2024-03-07 16:15:36,458 DEBUG - [AlcodeFinder.java:77:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === foundAlcCode : [0300004343080000001]
2024-03-07 16:15:36,458 TRACE - [JedisExpireCache.java:48:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put start:alccodes/TEST-FB-000000040964745 0300004343080000001
2024-03-07 16:15:36,459 TRACE - [JedisExpireCache.java:50:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === exp :alccodes/TEST-FB-000000040964745 604800
2024-03-07 16:15:36,459 TRACE - [JedisExpireCache.java:52:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put end:alccodes/TEST-FB-000000040964745 0300004343080000001
2024-03-07 16:15:36,459 DEBUG - [JDBCStringStore.java:71:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put: [TEST-FB-000000040964745]=[0300004343080000001] in [alccodes]
2024-03-07 16:15:36,459 DEBUG - [JDBCStringStore.java:163:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [TEST-FB-000000040964745]=[0300004343080000001] in [alccodes]
2024-03-07 16:15:36,459 DEBUG - [JDBCStringStore.java:165:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === INSERT INTO alccodes  (CODE, VAL) VALUES (?,?)  ON CONFLICT (CODE)  DO UPDATE SET VAL = ?
2024-03-07 16:15:36,460 DEBUG - [JDBCStringStore.java:172:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [1]
2024-03-07 16:15:36,460 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:catering/2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3 {}
2024-03-07 16:15:36,460 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:catering/2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3 null
2024-03-07 16:15:36,461 DEBUG - [BarcodesStorage.java:117:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === hasBarcodeTable: 030000434308
2024-03-07 16:15:36,461 DEBUG - [BarcodesStorage.java:144:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Found cached barcodes:030000434308 true
2024-03-07 16:15:36,461 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3] from [barcodes_030000434308]
2024-03-07 16:15:36,461 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes_030000434308 WHERE CODE =?
2024-03-07 16:15:36,462 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [0300004343080000001] from [volumes]
2024-03-07 16:15:36,462 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM volumes WHERE CODE =?
2024-03-07 16:15:36,462 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [b4f096981ac48d097e014f0d97c38410] from [chains2]
2024-03-07 16:15:36,462 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM chains2 WHERE CODE =?
2024-03-07 16:15:36,463 TRACE - [AlcodeFinder.java:68:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Look in alccodesMap: [TEST-FB-000000040964745]
2024-03-07 16:15:36,463 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:alccodes/TEST-FB-000000040964745 {}
2024-03-07 16:15:36,463 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:alccodes/TEST-FB-000000040964745 0300004343080000001
2024-03-07 16:15:36,463 DEBUG - [AlcodeFinder.java:77:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === foundAlcCode : [0300004343080000001]
2024-03-07 16:15:36,463 TRACE - [JedisExpireCache.java:48:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put start:alccodes/TEST-FB-000000040964745 0300004343080000001
2024-03-07 16:15:36,464 TRACE - [JedisExpireCache.java:50:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === exp :alccodes/TEST-FB-000000040964745 604800
2024-03-07 16:15:36,464 TRACE - [JedisExpireCache.java:52:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put end:alccodes/TEST-FB-000000040964745 0300004343080000001
2024-03-07 16:15:36,464 DEBUG - [JDBCStringStore.java:71:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put: [TEST-FB-000000040964745]=[0300004343080000001] in [alccodes]
2024-03-07 16:15:36,464 DEBUG - [JDBCStringStore.java:163:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [TEST-FB-000000040964745]=[0300004343080000001] in [alccodes]
2024-03-07 16:15:36,464 DEBUG - [JDBCStringStore.java:165:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === INSERT INTO alccodes  (CODE, VAL) VALUES (?,?)  ON CONFLICT (CODE)  DO UPDATE SET VAL = ?
2024-03-07 16:15:36,465 DEBUG - [JDBCStringStore.java:172:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [1]
2024-03-07 16:15:36,466 TRACE - [JedisExpireCache.java:89:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put all start:catering {2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3=490}
2024-03-07 16:15:36,466 TRACE - [JedisExpireCache.java:93:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === exp :catering/2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3 3000
2024-03-07 16:15:36,467 TRACE - [JedisExpireCache.java:96:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put all end:catering 
2024-03-07 16:15:36,467 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@69ae0233
2024-03-07 16:15:36,566 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@69ae0233
2024-03-07 16:15:36,566 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@22f82174
2024-03-07 16:15:36,567 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@22f82174
2024-03-07 16:15:36,567 INFO - [OnLineChequeV4.java:120:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === End processing.
2024-03-07 16:15:36,567 DEBUG - [Templater.java:40:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === templatePath:xml/ChequeV4OnlineReplyOK.xml
2024-03-07 16:15:36,567 TRACE - [Templater.java:49:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>500</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2024-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
                <ck:Bottle>
                    <ck:Barcode>200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2024-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 16:15:36,567 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@69ae0233
2024-03-07 16:15:36,567 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@69ae0233
2024-03-07 16:15:36,567 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@22f82174
2024-03-07 16:15:36,567 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@22f82174
2024-03-07 16:15:36,567 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end bark
2024-03-07 16:15:36,567 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>500</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2024-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
                <ck:Bottle>
                    <ck:Barcode>200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2024-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 16:15:36,568 INFO - [Storage.java:62:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === start proc
2024-03-07 16:15:36,568 DEBUG - [Storage.java:67:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2024-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>2002003031017509230012SATACGDBENZGMHXPX7Q8UKRZYB5KI4FFLQ0SVERVOFNLBDAUSNMHBJKILGIWKHYTQXGRJTUI3KMUGIZ8R7XHSBPVD5LOXAFKYVB4TZ2N0GDASIKANG7UCNEFDUIWKBW3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>500</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2024-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
                <ck:Bottle>
                    <ck:Barcode>200200303100120923001ZZMRF2ATUEP0BP3IEG1OKDICRHWX6HLB9VJT7AHONNUPCZ6JLFIE4JQSSVABWL8XZMKD50HYKRUKPVITH0GILQFQR1ZL7ZWFADCAJEBMTHYNLRYNO9HW83XGIZ7MMUBJG</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2024-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 16:15:36,573 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 16:15:36,573 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 16:15:36,573 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:2
2024-03-07 16:15:36,573 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:15:36,573 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:15:36,573 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:15:36,573 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:15:36,573 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:15:36,573 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:15:36,573 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:15:36,573 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:15:36,574 DEBUG - [Storage.java:85:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 16:15:36,574 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:2
2024-03-07 16:15:36,574 DEBUG - [Storage.java:92:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 16:15:36,574 DEBUG - [Storage.java:100:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call finished:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 16:15:36,574 INFO - [Storage.java:103:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end proc
2024-03-07 16:15:36,574 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === sql resp:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 16:15:36,574 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === inc:484
2024-03-07 16:15:36,574 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === send
2024-03-07 16:15:36,574 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-3] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === final end
2024-03-07 16:15:36,667 DEBUG - [::archive1DB connection closer] = ID: TYPE: HASH: === archive1DB - Closing connection org.postgresql.jdbc.PgConnection@7e8bbf1c: (connection has passed maxLifetime)
2024-03-07 16:15:36,687 DEBUG - [::archive1DB connection adder] = ID: TYPE: HASH: === archive1DB - Added connection org.postgresql.jdbc.PgConnection@34fae0b5
2024-03-07 16:15:37,119 DEBUG - [::HikariPool-1 connection closer] = ID: TYPE: HASH: === HikariPool-1 - Closing connection net.sourceforge.jtds.jdbc.JtdsConnection@575ad1a9: (connection has passed maxLifetime)
2024-03-07 16:15:37,121 DEBUG - [::HikariPool-1 connection adder] = ID: TYPE: HASH: === HikariPool-1 - Added connection net.sourceforge.jtds.jdbc.JtdsConnection@46cba77c
</pre>
}}
##  0b4 = Инверсия даты: ? для ШК ?
%{color:red; font-weight:bold}Полученный результат по описанию:  На дату вообще не реагирует <ck:Error>0</ck:Error>% {{collapse(чек+тикет+лог)
<pre>
<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>500</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
                <ck:Bottle>
                    <ck:Barcode>200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 16:17:56,740 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0x93dff908, L:/10.10.4.247:14301 - R:/10.10.4.247:44326]
2024-03-07 16:17:56,740 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 16:17:56,743 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === name:barcodes
2024-03-07 16:17:56,743 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === value:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>

2024-03-07 16:17:56,743 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-07 16:17:56,743 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start
2024-03-07 16:17:56,743 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start process [<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>]
2024-03-07 16:17:56,743 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start transform:030000434308 <ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
2024-03-07 16:17:56,744 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === end transform:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
2024-03-07 16:17:56,745 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start bark
2024-03-07 16:17:56,745 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 16:17:56,745 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === doc type: ChequeV4OnLine
2024-03-07 16:17:56,746 DEBUG - [ChequeV4Parser.java:189:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV4OnLine HASH: === parse catering barcode 200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR
2024-03-07 16:17:56,746 DEBUG - [ChequeV4Parser.java:229:nioEventLoopGroup-3-1] = ID: TYPE:ChequeV4OnLine HASH: === date in cheque: 2022-03-07T12-01-00
2024-03-07 16:17:56,746 INFO - [OnLineChequeV4.java:98:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Start processing.
2024-03-07 16:17:56,746 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === initDB
2024-03-07 16:17:56,747 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR) start
2024-03-07 16:17:56,747 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR
2024-03-07 16:17:56,747 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 16:17:56,747 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 16:17:56,747 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 16:17:56,747 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 16:17:56,747 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR
2024-03-07 16:17:56,747 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 16:17:56,747 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 16:17:56,748 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR
2024-03-07 16:17:56,748 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:0923
2024-03-07 16:17:56,748 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-07 16:17:56,748 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-07 16:17:56,748 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-07 16:17:56,748 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 16:17:56,748 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 16:17:56,748 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR)=0
2024-03-07 16:17:56,748 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR] from [barcodes]
2024-03-07 16:17:56,748 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 16:17:56,749 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [b4f096981ac48d097e014f0d97c38410:030000434308:9:2023-09-15::] 
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK) start
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:0923
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 16:17:56,749 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 16:17:56,749 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK)=0
2024-03-07 16:17:56,749 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK] from [barcodes]
2024-03-07 16:17:56,749 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 16:17:56,750 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [b4f096981ac48d097e014f0d97c38410:030000434308:9:2023-09-15::] 
2024-03-07 16:17:56,750 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [b4f096981ac48d097e014f0d97c38410] from [chains2]
2024-03-07 16:17:56,750 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM chains2 WHERE CODE =?
2024-03-07 16:17:56,752 TRACE - [AlcodeFinder.java:68:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Look in alccodesMap: [TEST-FB-000000040964745]
2024-03-07 16:17:56,752 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:alccodes/TEST-FB-000000040964745 {}
2024-03-07 16:17:56,752 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:alccodes/TEST-FB-000000040964745 0300004343080000001
2024-03-07 16:17:56,753 DEBUG - [AlcodeFinder.java:77:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === foundAlcCode : [0300004343080000001]
2024-03-07 16:17:56,753 TRACE - [JedisExpireCache.java:48:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put start:alccodes/TEST-FB-000000040964745 0300004343080000001
2024-03-07 16:17:56,753 TRACE - [JedisExpireCache.java:50:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === exp :alccodes/TEST-FB-000000040964745 604800
2024-03-07 16:17:56,753 TRACE - [JedisExpireCache.java:52:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put end:alccodes/TEST-FB-000000040964745 0300004343080000001
2024-03-07 16:17:56,753 DEBUG - [JDBCStringStore.java:71:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put: [TEST-FB-000000040964745]=[0300004343080000001] in [alccodes]
2024-03-07 16:17:56,753 DEBUG - [JDBCStringStore.java:163:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [TEST-FB-000000040964745]=[0300004343080000001] in [alccodes]
2024-03-07 16:17:56,754 DEBUG - [JDBCStringStore.java:165:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === INSERT INTO alccodes  (CODE, VAL) VALUES (?,?)  ON CONFLICT (CODE)  DO UPDATE SET VAL = ?
2024-03-07 16:17:56,755 DEBUG - [JDBCStringStore.java:172:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [1]
2024-03-07 16:17:56,755 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:catering/200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR {}
2024-03-07 16:17:56,756 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:catering/200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR null
2024-03-07 16:17:56,756 DEBUG - [BarcodesStorage.java:117:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === hasBarcodeTable: 030000434308
2024-03-07 16:17:56,756 DEBUG - [BarcodesStorage.java:144:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Found cached barcodes:030000434308 true
2024-03-07 16:17:56,756 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR] from [barcodes_030000434308]
2024-03-07 16:17:56,756 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes_030000434308 WHERE CODE =?
2024-03-07 16:17:56,758 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [0300004343080000001] from [volumes]
2024-03-07 16:17:56,758 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM volumes WHERE CODE =?
2024-03-07 16:17:56,759 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [b4f096981ac48d097e014f0d97c38410] from [chains2]
2024-03-07 16:17:56,759 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM chains2 WHERE CODE =?
2024-03-07 16:17:56,759 TRACE - [AlcodeFinder.java:68:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Look in alccodesMap: [TEST-FB-000000040964745]
2024-03-07 16:17:56,759 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:alccodes/TEST-FB-000000040964745 {}
2024-03-07 16:17:56,760 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:alccodes/TEST-FB-000000040964745 0300004343080000001
2024-03-07 16:17:56,760 DEBUG - [AlcodeFinder.java:77:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === foundAlcCode : [0300004343080000001]
2024-03-07 16:17:56,760 TRACE - [JedisExpireCache.java:48:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put start:alccodes/TEST-FB-000000040964745 0300004343080000001
2024-03-07 16:17:56,761 TRACE - [JedisExpireCache.java:50:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === exp :alccodes/TEST-FB-000000040964745 604800
2024-03-07 16:17:56,761 TRACE - [JedisExpireCache.java:52:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put end:alccodes/TEST-FB-000000040964745 0300004343080000001
2024-03-07 16:17:56,761 DEBUG - [JDBCStringStore.java:71:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put: [TEST-FB-000000040964745]=[0300004343080000001] in [alccodes]
2024-03-07 16:17:56,761 DEBUG - [JDBCStringStore.java:163:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [TEST-FB-000000040964745]=[0300004343080000001] in [alccodes]
2024-03-07 16:17:56,761 DEBUG - [JDBCStringStore.java:165:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === INSERT INTO alccodes  (CODE, VAL) VALUES (?,?)  ON CONFLICT (CODE)  DO UPDATE SET VAL = ?
2024-03-07 16:17:56,762 DEBUG - [JDBCStringStore.java:172:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [1]
2024-03-07 16:17:56,762 TRACE - [JedisExpireCache.java:89:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put all start:catering {200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR=490}
2024-03-07 16:17:56,762 TRACE - [JedisExpireCache.java:93:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === exp :catering/200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR 3000
2024-03-07 16:17:56,763 TRACE - [JedisExpireCache.java:96:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put all end:catering 
2024-03-07 16:17:56,763 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@73a56de3
2024-03-07 16:17:56,825 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@73a56de3
2024-03-07 16:17:56,825 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@58ce27cd
2024-03-07 16:17:56,826 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@58ce27cd
2024-03-07 16:17:56,826 INFO - [OnLineChequeV4.java:120:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === End processing.
2024-03-07 16:17:56,826 DEBUG - [Templater.java:40:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === templatePath:xml/ChequeV4OnlineReplyOK.xml
2024-03-07 16:17:56,826 TRACE - [Templater.java:49:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>500</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
                <ck:Bottle>
                    <ck:Barcode>200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 16:17:56,826 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@73a56de3
2024-03-07 16:17:56,826 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@73a56de3
2024-03-07 16:17:56,826 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@58ce27cd
2024-03-07 16:17:56,826 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@58ce27cd
2024-03-07 16:17:56,826 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end bark
2024-03-07 16:17:56,826 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>500</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
                <ck:Bottle>
                    <ck:Barcode>200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 16:17:56,826 INFO - [Storage.java:62:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === start proc
2024-03-07 16:17:56,826 DEBUG - [Storage.java:67:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200200303100210923001DGKPEXK1WV9YZGUT0CLIQ7VYX2STE8DHFORPNOUFJLI89WCIYZODWXHMEBLTGSX574UNT2DQS6NHD51QHE9EWF2RGZIPCOUXSLYAI3MR7FZ0YADKH0F1XCIBEBADLGSTR</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>500</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
                <ck:Bottle>
                    <ck:Barcode>200200303101090923001WTKDUSNL2KPEGN8RYQJCH7XPOJB6AFIQRH5DDNZTRIHTQVN6HFRAFVBXXPW20GP3KOUDYWESPY37NIKP6QD1D4FUTXXLOMWSFNV9GQ8WO2TEVLJTRTI2VM9XN46Z7PAPK</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040964745</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 16:17:57,054 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 16:17:57,054 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 16:17:57,054 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:2
2024-03-07 16:17:57,054 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:17:57,054 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:17:57,054 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:17:57,054 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:17:57,054 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:17:57,054 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:17:57,054 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:17:57,054 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:17:57,054 DEBUG - [Storage.java:85:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 16:17:57,054 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:2
2024-03-07 16:17:57,054 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 16:17:57,055 DEBUG - [Storage.java:100:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call finished:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 16:17:57,055 INFO - [Storage.java:103:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end proc
2024-03-07 16:17:57,055 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === sql resp:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 16:17:57,055 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === inc:490
2024-03-07 16:17:57,055 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === send
2024-03-07 16:17:57,055 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-1] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === final end
</pre>
}}
##  1b0 = ШК ? уже зарегистрирован для bottle
Полученный результат по описанию: <ck:Error>0</ck:Error> {{collapse(чек+тикет+лог)
<pre>
<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000004</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040961801</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>42</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 16:22:59,139 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0xdb796e78, L:/10.10.4.247:14301 - R:/10.10.4.247:45552]
2024-03-07 16:22:59,139 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 16:22:59,140 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === name:barcodes
2024-03-07 16:22:59,140 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === value:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>

2024-03-07 16:22:59,141 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-07 16:22:59,141 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === start
2024-03-07 16:22:59,141 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === start process [<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>]
2024-03-07 16:22:59,141 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === start transform:030000434308 <ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
2024-03-07 16:22:59,142 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === end transform:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
2024-03-07 16:22:59,142 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === start bark
2024-03-07 16:22:59,142 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 16:22:59,143 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-7] = ID: TYPE: HASH: === doc type: ChequeV4OnLine
2024-03-07 16:22:59,143 DEBUG - [ChequeV4Parser.java:229:nioEventLoopGroup-3-7] = ID: TYPE:ChequeV4OnLine HASH: === date in cheque: 2022-03-07T12-01-00
2024-03-07 16:22:59,143 INFO - [OnLineChequeV4.java:98:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Start processing.
2024-03-07 16:22:59,143 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === initDB
2024-03-07 16:22:59,144 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4) start
2024-03-07 16:22:59,144 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4
2024-03-07 16:22:59,144 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 16:22:59,145 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 16:22:59,145 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 16:22:59,145 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 16:22:59,145 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4
2024-03-07 16:22:59,145 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 16:22:59,145 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 16:22:59,145 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4
2024-03-07 16:22:59,145 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:3724
2024-03-07 16:22:59,145 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-07 16:22:59,145 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-07 16:22:59,145 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-07 16:22:59,145 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 16:22:59,145 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 16:22:59,145 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4)=0
2024-03-07 16:22:59,145 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4] from [barcodes]
2024-03-07 16:22:59,145 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 16:22:59,146 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [b62664dc66a5bcb1d6dec3c535606ff2:030000434308:42:2023-08-08::] 
2024-03-07 16:22:59,146 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [b62664dc66a5bcb1d6dec3c535606ff2] from [chains2]
2024-03-07 16:22:59,146 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM chains2 WHERE CODE =?
2024-03-07 16:22:59,146 TRACE - [AlcodeFinder.java:68:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Look in alccodesMap: [TEST-FB-000000040961801]
2024-03-07 16:22:59,146 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:alccodes/TEST-FB-000000040961801 {}
2024-03-07 16:22:59,147 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:alccodes/TEST-FB-000000040961801 0300004343080000004
2024-03-07 16:22:59,147 DEBUG - [AlcodeFinder.java:77:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === foundAlcCode : [0300004343080000004]
2024-03-07 16:22:59,147 TRACE - [JedisExpireCache.java:48:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put start:alccodes/TEST-FB-000000040961801 0300004343080000004
2024-03-07 16:22:59,148 TRACE - [JedisExpireCache.java:50:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === exp :alccodes/TEST-FB-000000040961801 604800
2024-03-07 16:22:59,148 TRACE - [JedisExpireCache.java:52:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put end:alccodes/TEST-FB-000000040961801 0300004343080000004
2024-03-07 16:22:59,148 DEBUG - [JDBCStringStore.java:71:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put: [TEST-FB-000000040961801]=[0300004343080000004] in [alccodes]
2024-03-07 16:22:59,148 DEBUG - [JDBCStringStore.java:163:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [TEST-FB-000000040961801]=[0300004343080000004] in [alccodes]
2024-03-07 16:22:59,148 DEBUG - [JDBCStringStore.java:165:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === INSERT INTO alccodes  (CODE, VAL) VALUES (?,?)  ON CONFLICT (CODE)  DO UPDATE SET VAL = ?
2024-03-07 16:22:59,149 DEBUG - [JDBCStringStore.java:172:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [1]
2024-03-07 16:22:59,149 TRACE - [JedisExpireCache.java:85:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put all. empty map. do nothing
2024-03-07 16:22:59,149 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@276ca927
2024-03-07 16:22:59,221 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@276ca927
2024-03-07 16:22:59,221 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@43ff5dae
2024-03-07 16:22:59,222 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@43ff5dae
2024-03-07 16:22:59,222 INFO - [OnLineChequeV4.java:120:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === End processing.
2024-03-07 16:22:59,222 DEBUG - [Templater.java:40:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === templatePath:xml/ChequeV4OnlineReplyOK.xml
2024-03-07 16:22:59,222 TRACE - [Templater.java:49:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000004</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040961801</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>42</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 16:22:59,222 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@276ca927
2024-03-07 16:22:59,222 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@276ca927
2024-03-07 16:22:59,222 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@43ff5dae
2024-03-07 16:22:59,222 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@43ff5dae
2024-03-07 16:22:59,222 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end bark
2024-03-07 16:22:59,222 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000004</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040961801</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>42</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 16:22:59,223 INFO - [Storage.java:62:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === start proc
2024-03-07 16:22:59,223 DEBUG - [Storage.java:67:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000004</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040961801</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>42</ck:Type>
                    <ck:DateTime>2022-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 16:22:59,229 DEBUG - [Storage.java:85:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <result><number>1</number><text>Проверка не пройдена: попытка продажи дубля продукции (200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4)</text></result>
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 16:22:59,229 DEBUG - [Storage.java:92:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 16:22:59,229 DEBUG - [Storage.java:100:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: попытка продажи дубля продукции (200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4)</text></result>
2024-03-07 16:22:59,229 INFO - [Storage.java:103:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end proc
2024-03-07 16:22:59,229 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: попытка продажи дубля продукции (200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4)</text></result>
2024-03-07 16:22:59,230 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === inc:519
2024-03-07 16:22:59,230 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === send
2024-03-07 16:22:59,230 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-7] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === final end
</pre>
}}
##  1b0 = ШК ? уже зарегистрирован для catering
%{color:red; font-weight:bold}Полученный результат по описанию:  Отправка чека на продажу части алкоголя с уже списанной чеком марки, Проверка не пройдена: продукция не внесена в поштучный учет, <ck:Error>6</ck:Error>%{{collapse(чек+тикет+лог)
<pre>
<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>7500</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 17:17:24,840 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0x91933692, L:/10.10.4.247:14301 - R:/10.10.4.247:57480]
2024-03-07 17:17:24,840 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 17:17:24,841 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === name:barcodes
2024-03-07 17:17:24,841 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === value:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>7500</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>

2024-03-07 17:17:24,841 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-07 17:17:24,841 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start
2024-03-07 17:17:24,841 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start process [<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>7500</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>]
2024-03-07 17:17:24,841 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start transform:030000434308 <ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>7500</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
2024-03-07 17:17:24,842 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === end transform:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>7500</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
2024-03-07 17:17:24,843 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === start bark
2024-03-07 17:17:24,843 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 17:17:24,843 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-2] = ID: TYPE: HASH: === doc type: ChequeV4OnLine
2024-03-07 17:17:24,844 DEBUG - [ChequeV4Parser.java:189:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV4OnLine HASH: === parse catering barcode 200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4
2024-03-07 17:17:24,844 DEBUG - [ChequeV4Parser.java:229:nioEventLoopGroup-3-2] = ID: TYPE:ChequeV4OnLine HASH: === date in cheque: 2022-03-07T12-01-00
2024-03-07 17:17:24,844 INFO - [OnLineChequeV4.java:98:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Start processing.
2024-03-07 17:17:24,844 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === initDB
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4) start
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:3724
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 17:17:24,846 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 17:17:24,846 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4)=0
2024-03-07 17:17:24,846 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4] from [barcodes]
2024-03-07 17:17:24,846 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 17:17:24,847 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [b62664dc66a5bcb1d6dec3c535606ff2:030000434308:42:2023-08-08::] 
2024-03-07 17:17:24,847 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [b62664dc66a5bcb1d6dec3c535606ff2] from [chains2]
2024-03-07 17:17:24,847 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM chains2 WHERE CODE =?
2024-03-07 17:17:24,848 TRACE - [AlcodeFinder.java:68:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Look in alccodesMap: [TEST-FB-000000040961801]
2024-03-07 17:17:24,848 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:alccodes/TEST-FB-000000040961801 {}
2024-03-07 17:17:24,848 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:alccodes/TEST-FB-000000040961801 0300004343080000004
2024-03-07 17:17:24,848 DEBUG - [AlcodeFinder.java:77:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === foundAlcCode : [0300004343080000004]
2024-03-07 17:17:24,848 TRACE - [JedisExpireCache.java:48:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put start:alccodes/TEST-FB-000000040961801 0300004343080000004
2024-03-07 17:17:24,849 TRACE - [JedisExpireCache.java:50:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === exp :alccodes/TEST-FB-000000040961801 604800
2024-03-07 17:17:24,849 TRACE - [JedisExpireCache.java:52:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put end:alccodes/TEST-FB-000000040961801 0300004343080000004
2024-03-07 17:17:24,849 DEBUG - [JDBCStringStore.java:71:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put: [TEST-FB-000000040961801]=[0300004343080000004] in [alccodes]
2024-03-07 17:17:24,849 DEBUG - [JDBCStringStore.java:163:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [TEST-FB-000000040961801]=[0300004343080000004] in [alccodes]
2024-03-07 17:17:24,849 DEBUG - [JDBCStringStore.java:165:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === INSERT INTO alccodes  (CODE, VAL) VALUES (?,?)  ON CONFLICT (CODE)  DO UPDATE SET VAL = ?
2024-03-07 17:17:24,850 DEBUG - [JDBCStringStore.java:172:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [1]
2024-03-07 17:17:24,850 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:catering/200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4 {}
2024-03-07 17:17:24,851 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:catering/200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4 null
2024-03-07 17:17:24,851 DEBUG - [BarcodesStorage.java:117:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === hasBarcodeTable: 030000434308
2024-03-07 17:17:24,851 DEBUG - [BarcodesStorage.java:144:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Found cached barcodes:030000434308 true
2024-03-07 17:17:24,851 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4] from [barcodes_030000434308]
2024-03-07 17:17:24,851 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes_030000434308 WHERE CODE =?
2024-03-07 17:17:24,852 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [0300004343080000004] from [volumes]
2024-03-07 17:17:24,852 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM volumes WHERE CODE =?
2024-03-07 17:17:24,852 DEBUG - [NsiDataStorage.java:36:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === getCapacity [0300004343080000004]
2024-03-07 17:17:24,852 DEBUG - [NsiDataStorage.java:38:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT capacity FROM nsi_products WHERE alc_code=?
2024-03-07 17:17:24,853 DEBUG - [NsiDataStorage.java:46:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === capacity:500
2024-03-07 17:17:24,853 DEBUG - [::nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === HikariPool-1 - Executed rollback on connection net.sourceforge.jtds.jdbc.JtdsConnection@33f2651b due to dirty commit state on close().
2024-03-07 17:17:24,854 ERROR - [OnLineChequeV4.java:282:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Онлайн проверка не пройдена. Fsrarid: {030000434308}, idenyity: {1}, barcode: {200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4}. Продаваемое количество {7500} больше остатка {500}.
2024-03-07 17:17:24,854 DEBUG - [OnLineChequeV4.java:110:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === fail ChequeV4OnLine session = [ru.centerinform.bark.db.hydra.HydraStorekeeper@325c944c]
2024-03-07 17:17:24,854 DEBUG - [OnLineChequeV4.java:111:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Exception: 
ru.centerinform.bark.processor.online.OnLineChequeException: 200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4
	at ru.centerinform.bark.processor.online.OnLineChequeV4.cateringSale(OnLineChequeV4.java:283) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV4.executeMainChecks(OnLineChequeV4.java:224) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.online.OnLineChequeV4.processToString(OnLineChequeV4.java:104) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.processor.DefaultProcessor.process(DefaultProcessor.java:87) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleImpl(DefaultDocumentHandler.java:202) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handleXmlDoc(DefaultDocumentHandler.java:146) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.handler.DefaultDocumentHandler.handle(DefaultDocumentHandler.java:125) ~[bark-3.24.0.jar:?]
	at ru.centerinform.bark.Bark.process(Bark.java:241) ~[bark-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.bark(RequestHandler.java:139) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.RequestHandler.handleSendReq(RequestHandler.java:84) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.handleHttpContent(HttpFileUploadHandler.java:137) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:67) ~[bark-v-3.24.0.jar:?]
	at ru.centerinform.svs.bark.httpv.netty.HttpFileUploadHandler.channelRead0(HttpFileUploadHandler.java:41) ~[bark-v-3.24.0.jar:?]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.http.HttpServerExpectContinueHandler.channelRead(HttpServerExpectContinueHandler.java:95) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1414) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:945) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:141) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-all-4.1.21.Final.jar:4.1.21.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2024-03-07 17:17:24,854 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@586db451
2024-03-07 17:17:24,854 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@586db451
2024-03-07 17:17:24,854 TRACE - [HydraStorekeeper.java:279:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort ru.centerinform.bark.db.sql.JDBCStorekeeper@69ff184f
2024-03-07 17:17:24,855 TRACE - [HydraStorekeeper.java:281:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === abort finish ru.centerinform.bark.db.sql.JDBCStorekeeper@69ff184f
2024-03-07 17:17:24,855 DEBUG - [Templater.java:40:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === templatePath:xml/ChequeV4OnlineReplyERR.xml
2024-03-07 17:17:24,855 TRACE - [Templater.java:49:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 17:17:24,855 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@586db451
2024-03-07 17:17:24,855 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@586db451
2024-03-07 17:17:24,855 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@69ff184f
2024-03-07 17:17:24,855 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@69ff184f
2024-03-07 17:17:24,855 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end bark
2024-03-07 17:17:24,855 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 17:17:24,856 INFO - [Storage.java:62:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === start proc
2024-03-07 17:17:24,856 DEBUG - [Storage.java:67:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2022-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>6</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4</ck:Barcode>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 17:17:24,860 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 17:17:24,860 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 17:17:24,860 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 17:17:24,860 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 17:17:24,860 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 17:17:24,860 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 17:17:24,860 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 17:17:24,860 DEBUG - [Storage.java:85:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4)</text></result>
2024-03-07 17:17:24,860 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 17:17:24,860 DEBUG - [Storage.java:92:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 17:17:24,860 DEBUG - [Storage.java:100:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4)</text></result>
2024-03-07 17:17:24,860 INFO - [Storage.java:103:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end proc
2024-03-07 17:17:24,860 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200203000010023724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABP4)</text></result>
2024-03-07 17:17:24,860 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === inc:634
2024-03-07 17:17:24,860 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === send
2024-03-07 17:17:24,861 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-2] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === final end
</pre>
}}
##  0d1 = Будущая дата документа: ?
%{color:red; font-weight:bold}Полученный результат по описанию: На дату не реагирует <ck:Error>0</ck:Error>% {{collapse(чек+тикет+лог)
<pre>
<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>490</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040960214</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2026-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
                <ck:Bottle>
                    <ck:Barcode>200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000004</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040961700</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>42</ck:Type>
                    <ck:DateTime>2026-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 17:21:43,411 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0x6e964b82, L:/10.10.4.247:14301 - R:/10.10.4.247:58496]
2024-03-07 17:21:43,411 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 17:21:43,413 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === name:barcodes
2024-03-07 17:21:43,413 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === value:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>

2024-03-07 17:21:43,413 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-07 17:21:43,413 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === start
2024-03-07 17:21:43,413 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === start process [<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>]
2024-03-07 17:21:43,413 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === start transform:030000434308 <ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4 uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4>
    </ns:Document>
</ns:Documents>
2024-03-07 17:21:43,414 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === end transform:<ns:Documents xmlns:c="http://fsrar.ru/WEGAIS/Common" xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine" xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:pref="http://fsrar.ru/WEGAIS/ProductRef_v2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
            </ck:Header>
            <ck:Content>
                <ck:Bottle>
                    <ck:Barcode>200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                </ck:Bottle>
                <ck:Catering>
                    <ck:Barcode>200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                </ck:Catering>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
2024-03-07 17:21:43,415 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === start bark
2024-03-07 17:21:43,415 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 17:21:43,415 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-5] = ID: TYPE: HASH: === doc type: ChequeV4OnLine
2024-03-07 17:21:43,416 DEBUG - [ChequeV4Parser.java:189:nioEventLoopGroup-3-5] = ID: TYPE:ChequeV4OnLine HASH: === parse catering barcode 200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3
2024-03-07 17:21:43,416 DEBUG - [ChequeV4Parser.java:229:nioEventLoopGroup-3-5] = ID: TYPE:ChequeV4OnLine HASH: === date in cheque: 2026-03-07T12-01-00
2024-03-07 17:21:43,416 INFO - [OnLineChequeV4.java:98:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Start processing.
2024-03-07 17:21:43,416 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === initDB
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3) start
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:0723
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 17:21:43,418 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 17:21:43,418 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3)=0
2024-03-07 17:21:43,418 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3] from [barcodes]
2024-03-07 17:21:43,418 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 17:21:43,420 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [c134aa6318bd52ca2bbb198e630529cc:030000434308:9:2023-07-26::] 
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f(200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4) start
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:136
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:204
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:314
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix {type=PREFIX, patterns=[010]} 200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:010
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === prefix:false
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:3724
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0122
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0222
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === pattern:0322
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === mmyy:false
2024-03-07 17:21:43,420 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === f=(0) end
2024-03-07 17:21:43,420 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === shard(200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4)=0
2024-03-07 17:21:43,420 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4] from [barcodes]
2024-03-07 17:21:43,420 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 17:21:43,421 DEBUG - [OnLineChequeV4.java:425:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === checkBarcodesDB(). bkvalue = [55390ef4d62e04481dfc58d1d76d0514:030000434308:42:2023-08-07::] 
2024-03-07 17:21:43,421 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [c134aa6318bd52ca2bbb198e630529cc] from [chains2]
2024-03-07 17:21:43,421 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM chains2 WHERE CODE =?
2024-03-07 17:21:43,422 TRACE - [AlcodeFinder.java:68:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Look in alccodesMap: [TEST-FB-000000040960214]
2024-03-07 17:21:43,422 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:alccodes/TEST-FB-000000040960214 {}
2024-03-07 17:21:43,423 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:alccodes/TEST-FB-000000040960214 0300004343080000001
2024-03-07 17:21:43,423 DEBUG - [AlcodeFinder.java:77:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === foundAlcCode : [0300004343080000001]
2024-03-07 17:21:43,423 TRACE - [JedisExpireCache.java:48:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put start:alccodes/TEST-FB-000000040960214 0300004343080000001
2024-03-07 17:21:43,423 TRACE - [JedisExpireCache.java:50:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === exp :alccodes/TEST-FB-000000040960214 604800
2024-03-07 17:21:43,424 TRACE - [JedisExpireCache.java:52:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put end:alccodes/TEST-FB-000000040960214 0300004343080000001
2024-03-07 17:21:43,424 DEBUG - [JDBCStringStore.java:71:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put: [TEST-FB-000000040960214]=[0300004343080000001] in [alccodes]
2024-03-07 17:21:43,424 DEBUG - [JDBCStringStore.java:163:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [TEST-FB-000000040960214]=[0300004343080000001] in [alccodes]
2024-03-07 17:21:43,424 DEBUG - [JDBCStringStore.java:165:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === INSERT INTO alccodes  (CODE, VAL) VALUES (?,?)  ON CONFLICT (CODE)  DO UPDATE SET VAL = ?
2024-03-07 17:21:43,425 DEBUG - [JDBCStringStore.java:172:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [1]
2024-03-07 17:21:43,425 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:catering/200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3 {}
2024-03-07 17:21:43,425 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:catering/200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3 480
2024-03-07 17:21:43,425 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [0300004343080000001] from [volumes]
2024-03-07 17:21:43,425 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM volumes WHERE CODE =?
2024-03-07 17:21:43,426 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get: [55390ef4d62e04481dfc58d1d76d0514] from [chains2]
2024-03-07 17:21:43,426 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === SELECT VAL FROM chains2 WHERE CODE =?
2024-03-07 17:21:43,427 TRACE - [AlcodeFinder.java:68:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Look in alccodesMap: [TEST-FB-000000040961700]
2024-03-07 17:21:43,427 TRACE - [JedisExpireCache.java:155:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get start:alccodes/TEST-FB-000000040961700 {}
2024-03-07 17:21:43,428 TRACE - [JedisExpireCache.java:157:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === get end:alccodes/TEST-FB-000000040961700 0300004343080000004
2024-03-07 17:21:43,428 DEBUG - [AlcodeFinder.java:77:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === foundAlcCode : [0300004343080000004]
2024-03-07 17:21:43,428 TRACE - [JedisExpireCache.java:48:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put start:alccodes/TEST-FB-000000040961700 0300004343080000004
2024-03-07 17:21:43,428 TRACE - [JedisExpireCache.java:50:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === exp :alccodes/TEST-FB-000000040961700 604800
2024-03-07 17:21:43,428 TRACE - [JedisExpireCache.java:52:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put end:alccodes/TEST-FB-000000040961700 0300004343080000004
2024-03-07 17:21:43,428 DEBUG - [JDBCStringStore.java:71:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put: [TEST-FB-000000040961700]=[0300004343080000004] in [alccodes]
2024-03-07 17:21:43,428 DEBUG - [JDBCStringStore.java:163:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [TEST-FB-000000040961700]=[0300004343080000004] in [alccodes]
2024-03-07 17:21:43,428 DEBUG - [JDBCStringStore.java:165:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === INSERT INTO alccodes  (CODE, VAL) VALUES (?,?)  ON CONFLICT (CODE)  DO UPDATE SET VAL = ?
2024-03-07 17:21:43,429 DEBUG - [JDBCStringStore.java:172:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === upsert: [1]
2024-03-07 17:21:43,429 TRACE - [JedisExpireCache.java:89:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put all start:catering {200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3=470}
2024-03-07 17:21:43,430 TRACE - [JedisExpireCache.java:93:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === exp :catering/200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3 3000
2024-03-07 17:21:43,430 TRACE - [JedisExpireCache.java:96:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === put all end:catering 
2024-03-07 17:21:43,430 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@7d28c0f7
2024-03-07 17:21:43,555 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@7d28c0f7
2024-03-07 17:21:43,555 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@12f0840e
2024-03-07 17:21:43,556 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@12f0840e
2024-03-07 17:21:43,556 INFO - [OnLineChequeV4.java:120:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === End processing.
2024-03-07 17:21:43,556 DEBUG - [Templater.java:40:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === templatePath:xml/ChequeV4OnlineReplyOK.xml
2024-03-07 17:21:43,556 TRACE - [Templater.java:49:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>480</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040960214</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2026-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
                <ck:Bottle>
                    <ck:Barcode>200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000004</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040961700</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>42</ck:Type>
                    <ck:DateTime>2026-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 17:21:43,556 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@7d28c0f7
2024-03-07 17:21:43,556 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@7d28c0f7
2024-03-07 17:21:43,556 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@12f0840e
2024-03-07 17:21:43,556 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@12f0840e
2024-03-07 17:21:43,556 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end bark
2024-03-07 17:21:43,556 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>480</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040960214</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2026-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
                <ck:Bottle>
                    <ck:Barcode>200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000004</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040961700</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>42</ck:Type>
                    <ck:DateTime>2026-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 17:21:43,556 INFO - [Storage.java:62:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === start proc
2024-03-07 17:21:43,556 DEBUG - [Storage.java:67:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:ck="http://fsrar.ru/WEGAIS/ChequeV4OnLine">
    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeV4OnLine uuid="3f199842-dea0-4d9a-a772-9a35f67f46ea">
            <ck:Identity>1</ck:Identity>
            <ck:Header>
                <ck:Date>2026-03-07T12:01:00</ck:Date>
                <ck:Kassa>1</ck:Kassa>
                <ck:Shift>1</ck:Shift>
                <ck:Number>1</ck:Number>
                <ck:Type>Продажа</ck:Type>
                <ck:Error>0</ck:Error>
            </ck:Header>
            <ck:Content>
                <ck:Catering>
                    <ck:Barcode>200203539533350723001ZZSOFVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLTE4NC5APHYU3</ck:Barcode>
                    <ck:EAN>4015576078983</ck:EAN>
                    <ck:Price>1330</ck:Price>
                    <ck:Volume>10</ck:Volume>
                    <ck:AlcCodeVolume>500</ck:AlcCodeVolume>
                    <ck:RestVolume>480</ck:RestVolume>
                    <ck:AlcCode>0300004343080000001</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040960214</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>9</ck:Type>
                    <ck:DateTime>2026-03-07T12:01:00</ck:DateTime>
                </ck:Catering>
                <ck:Bottle>
                    <ck:Barcode>200203000009193724001ZDSOOVC0XFFI9VOIW6PY6XMJ2CRX2S2ZPWCZNWV1ADKDL4J8E3JF5SW1UI2D9251SYDJIRYSRF1J4FK17HEYKOUU4XKS7HNMBZV7SANJZARN8F07S6NVLAAAAAAAAABL4</ck:Barcode>
                    <ck:EAN>4015576052083</ck:EAN>
                    <ck:Price>1000.0</ck:Price>
                    <ck:Volume></ck:Volume>
                    <!--ck:AlcCodeVolume></ck:AlcCodeVolume>
                    <ck:RestVolume></ck:RestVolume-->
                    <ck:AlcCode>0300004343080000004</ck:AlcCode>
                    <ck:Form2>TEST-FB-000000040961700</ck:Form2>
                    <ck:Owner>030000434308</ck:Owner>
                    <ck:Type>42</ck:Type>
                    <ck:DateTime>2026-03-07T12:01:00</ck:DateTime>
                </ck:Bottle>
            </ck:Content>
        </ns:ChequeV4OnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 17:21:43,563 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 17:21:43,563 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 17:21:43,563 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:2
2024-03-07 17:21:43,563 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 17:21:43,563 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 17:21:43,563 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 17:21:43,563 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 17:21:43,563 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 17:21:43,563 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 17:21:43,563 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 17:21:43,563 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:0
2024-03-07 17:21:43,563 DEBUG - [Storage.java:85:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === <result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 17:21:43,563 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:2
2024-03-07 17:21:43,563 DEBUG - [Storage.java:92:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === UpdateCount:1
2024-03-07 17:21:43,563 DEBUG - [Storage.java:100:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === Call finished:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 17:21:43,563 INFO - [Storage.java:103:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === end proc
2024-03-07 17:21:43,563 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === sql resp:<result><number>0</number><text>Проверка пройдена</text></result>
2024-03-07 17:21:43,563 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === inc:645
2024-03-07 17:21:43,563 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === send
2024-03-07 17:21:43,563 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-5] = ID:3f199842-dea0-4d9a-a772-9a35f67f46ea TYPE:ChequeV4OnLine HASH: === final end
</pre>
}}
# Cheque
##  Если бар есть, но у него неправильный владелец(для чека первой версии исли по барку все ОК, возвращаем алккод, форму, пред. тип документа, если нет - error ноль, но возвращаем без этой части.)
%{color:red; font-weight:bold}Полученный результат по описанию: поменял инн + передаю с другим fsrar, в документе error=0, Проверка не пройдена: продукция не внесена в поштучный учет% {{collapse(чек+тикет+логи)
<pre>
<Cheque address="Test2" datetime="0703241237" inn="7841051711" kassa="1" kpp="770101003" name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ" number="1" shift="1" uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06">
<Bottle barcode="200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3" ean="00000000" price="10.00" volume="0.7500"/>
</Cheque>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:cq="http://fsrar.ru/WEGAIS/Cheque">

    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeOnLine
                uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06"
                inn="7841051711"
                datetime="0703241237"
                kpp="770101003"
                kassa="1"
                address="Test2"
                name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ"
                number="1"
                shift="1"
                error="0">
            <cq:Bottle barcode="200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3" ean="00000000" price="10.00" volume="0.7500">
             </cq:Bottle>
        </ns:ChequeOnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-07 17:30:50,265 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0x48ebb86f, L:/10.10.4.247:14301 - R:/10.10.4.247:60676]
2024-03-07 17:30:50,265 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-07 17:30:50,266 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === name:barcodes
2024-03-07 17:30:50,266 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === value:<Cheque address="Test2" datetime="0703241237" inn="7841051711" kassa="1" kpp="770101003" name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ" number="1" shift="1" uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06">
<Bottle barcode="200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3" ean="00000000" price="10.00" volume="0.7500"/>
</Cheque>

2024-03-07 17:30:50,266 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-07 17:30:50,266 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === start
2024-03-07 17:30:50,266 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === start process [<Cheque address="Test2" datetime="0703241237" inn="7841051711" kassa="1" kpp="770101003" name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ" number="1" shift="1" uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06">
<Bottle barcode="200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3" ean="00000000" price="10.00" volume="0.7500"/>
</Cheque>]
2024-03-07 17:30:50,266 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === start transform:030000434308 <Cheque address="Test2" datetime="0703241237" inn="7841051711" kassa="1" kpp="770101003" name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ" number="1" shift="1" uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06">
<Bottle barcode="200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3" ean="00000000" price="10.00" volume="0.7500"/>
</Cheque>
2024-03-07 17:30:50,267 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === end transform:<ns2:Documents Version="1.0" xsi:schemaLocation="http://www.w3.org/2001/XMLSchema-instance" xmlns:ns2="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:ns3="http://fsrar.ru/WEGAIS/Cheque" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns2:Owner>
        <ns2:FSRAR_ID>030000434308</ns2:FSRAR_ID>
    </ns2:Owner>
    <ns2:Document>
        <ns2:ChequeOnLine address="Test2" datetime="0703241237" inn="7841051711" kassa="1" kpp="770101003" name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ" number="1" shift="1" uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06">
            <ns3:Bottle barcode="200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3" ean="00000000" price="10.00" volume="0.7500"/>
        </ns2:ChequeOnLine>
    </ns2:Document>
</ns2:Documents>
2024-03-07 17:30:50,268 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === start bark
2024-03-07 17:30:50,268 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-07 17:30:50,268 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-8] = ID: TYPE: HASH: === doc type: OnLineCheque
2024-03-07 17:30:50,268 DEBUG - [OnlineChequeProcessor.java:61:nioEventLoopGroup-3-8] = ID: TYPE:OnLineCheque HASH: === =============[OnLineCheque]=============
2024-03-07 17:30:50,268 INFO - [OnlineChequeProcessor.java:72:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === Start processing.
2024-03-07 17:30:50,268 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === initDB
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === f(200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3) start
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:136
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:204
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:314
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === prefix:false
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === prefix {type=PREFIX, patterns=[010]} 200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:010
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === prefix:false
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === mmyy:1223
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:0122
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:0222
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:0322
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === mmyy:false
2024-03-07 17:30:50,270 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === f=(0) end
2024-03-07 17:30:50,270 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === shard(200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3)=0
2024-03-07 17:30:50,270 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === get: [200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3] from [barcodes]
2024-03-07 17:30:50,270 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-07 17:30:50,271 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@5d5cee16
2024-03-07 17:30:50,271 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@5d5cee16
2024-03-07 17:30:50,271 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@2dd70bf6
2024-03-07 17:30:50,272 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@2dd70bf6
2024-03-07 17:30:50,272 INFO - [OnlineChequeProcessor.java:126:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === End processing.
2024-03-07 17:30:50,272 DEBUG - [Templater.java:40:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === templatePath:xml/ChequeOnlineReplyOK.xml
2024-03-07 17:30:50,272 TRACE - [Templater.java:49:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === <ns:Documents Version="1.0"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:cq="http://fsrar.ru/WEGAIS/Cheque">

    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeOnLine
                uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06"
                inn="7841051711"
                datetime="0703241237"
                kpp="770101003"
                kassa="1"
                address="Test2"
                name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ"
                number="1"
                shift="1"
                error="0">
            <cq:Bottle barcode="200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3" ean="00000000" price="10.00" volume="0.7500">
             </cq:Bottle>
        </ns:ChequeOnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 17:30:50,272 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@5d5cee16
2024-03-07 17:30:50,273 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@5d5cee16
2024-03-07 17:30:50,273 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@2dd70bf6
2024-03-07 17:30:50,273 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@2dd70bf6
2024-03-07 17:30:50,273 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === end bark
2024-03-07 17:30:50,273 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:cq="http://fsrar.ru/WEGAIS/Cheque">

    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeOnLine
                uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06"
                inn="7841051711"
                datetime="0703241237"
                kpp="770101003"
                kassa="1"
                address="Test2"
                name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ"
                number="1"
                shift="1"
                error="0">
            <cq:Bottle barcode="200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3" ean="00000000" price="10.00" volume="0.7500">
             </cq:Bottle>
        </ns:ChequeOnLine>
    </ns:Document>
</ns:Documents>

2024-03-07 17:30:50,273 INFO - [Storage.java:62:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === start proc
2024-03-07 17:30:50,273 DEBUG - [Storage.java:67:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:cq="http://fsrar.ru/WEGAIS/Cheque">

    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeOnLine
                uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06"
                inn="7841051711"
                datetime="0703241237"
                kpp="770101003"
                kassa="1"
                address="Test2"
                name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ"
                number="1"
                shift="1"
                error="0">
            <cq:Bottle barcode="200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3" ean="00000000" price="10.00" volume="0.7500">
             </cq:Bottle>
        </ns:ChequeOnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-07 17:30:50,277 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:1
2024-03-07 17:30:50,277 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:0
2024-03-07 17:30:50,277 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:1
2024-03-07 17:30:50,277 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:1
2024-03-07 17:30:50,277 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:0
2024-03-07 17:30:50,277 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:0
2024-03-07 17:30:50,277 DEBUG - [Storage.java:85:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === <result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3)</text></result>
2024-03-07 17:30:50,277 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:1
2024-03-07 17:30:50,277 DEBUG - [Storage.java:92:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:1
2024-03-07 17:30:50,277 DEBUG - [Storage.java:100:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3)</text></result>
2024-03-07 17:30:50,277 INFO - [Storage.java:103:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === end proc
2024-03-07 17:30:50,277 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200303206031223001DWZN0MP9WYJGEBQ6RBMCNPIL78ZA1UJEHFAFAMMT5IYFH0E6SNXC4JBRCJZFXANWD9SWYHUTP7QYOG8NZBI0PMYQBCUE35F2ALVAX4T1L6TCVDNGHHXEZPLRMPB2JEUU3)</text></result>
2024-03-07 17:30:50,277 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === inc:656
2024-03-07 17:30:50,277 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === send
2024-03-07 17:30:50,278 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-8] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === final end
</pre>
}}
##  Если бар есть, но у него неправильный тип(для чека первой версии исли по барку все ОК, возвращаем алккод, форму, пред. тип документа, если нет - error ноль, но возвращаем без этой части.)
%{color:red; font-weight:bold}Полученный результат по описанию:  error="0", Проверка не пройдена: продукция не внесена в поштучный учет% {{collapse(чек+тикет+логи)
<pre>
<Cheque address="Test2" datetime="0703241237" inn="7841051711" kassa="1" kpp="770101008" name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ" number="1" shift="1" uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06">
<Bottle barcode="200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A" ean="00000000" price="10.00" volume="0.7500"/>
</Cheque>
</pre>
<pre>
<ns:Documents Version="1.0"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:cq="http://fsrar.ru/WEGAIS/Cheque">

    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeOnLine
                uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06"
                inn="7841051711"
                datetime="0703241237"
                kpp="770101008"
                kassa="1"
                address="Test2"
                name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ"
                number="1"
                shift="1"
                error="0">
            <cq:Bottle barcode="200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A" ean="00000000" price="10.00" volume="0.7500">
             </cq:Bottle>
        </ns:ChequeOnLine>
    </ns:Document>
</ns:Documents>
</pre>
<pre>
2024-03-11 12:35:50,469 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ: [id: 0x97922bec, L:/10.10.4.247:14301 - R:/10.10.4.247:49674]
2024-03-11 12:35:50,469 INFO - [::nioEventLoopGroup-2-1] = ID: TYPE: HASH: === [id: 0x1a8cf58d, L:/[0:0:0:0:0:0:0:0]:14301] READ COMPLETE
2024-03-11 12:35:50,470 TRACE - [HttpFileUploadHandler.java:115:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === name:barcodes
2024-03-11 12:35:50,470 TRACE - [HttpFileUploadHandler.java:117:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === value:<Cheque address="Test2" datetime="0703241237" inn="7841051711" kassa="1" kpp="770101008" name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ" number="1" shift="1" uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06">
<Bottle barcode="200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A" ean="00000000" price="10.00" volume="0.7500"/>
</Cheque>

2024-03-11 12:35:50,470 DEBUG - [HttpFileUploadHandler.java:134:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === fsrarId:030000434308
2024-03-11 12:35:50,470 INFO - [RequestHandler.java:74:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start
2024-03-11 12:35:50,470 DEBUG - [RequestHandler.java:75:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start process [<Cheque address="Test2" datetime="0703241237" inn="7841051711" kassa="1" kpp="770101008" name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ" number="1" shift="1" uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06">
<Bottle barcode="200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A" ean="00000000" price="10.00" volume="0.7500"/>
</Cheque>]
2024-03-11 12:35:50,470 DEBUG - [XmlTransformer.java:30:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start transform:030000434308 <Cheque address="Test2" datetime="0703241237" inn="7841051711" kassa="1" kpp="770101008" name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ" number="1" shift="1" uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06">
<Bottle barcode="200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A" ean="00000000" price="10.00" volume="0.7500"/>
</Cheque>
2024-03-11 12:35:50,471 DEBUG - [XmlTransformer.java:32:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === end transform:<ns2:Documents Version="1.0" xsi:schemaLocation="http://www.w3.org/2001/XMLSchema-instance" xmlns:ns2="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01" xmlns:ns3="http://fsrar.ru/WEGAIS/Cheque" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns2:Owner>
        <ns2:FSRAR_ID>030000434308</ns2:FSRAR_ID>
    </ns2:Owner>
    <ns2:Document>
        <ns2:ChequeOnLine address="Test2" datetime="0703241237" inn="7841051711" kassa="1" kpp="770101008" name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ" number="1" shift="1" uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06">
            <ns3:Bottle barcode="200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A" ean="00000000" price="10.00" volume="0.7500"/>
        </ns2:ChequeOnLine>
    </ns2:Document>
</ns2:Documents>
2024-03-11 12:35:50,471 INFO - [RequestHandler.java:135:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === start bark
2024-03-11 12:35:50,471 DEBUG - [DocumentHandlerFactory.java:169:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === REQUEST VERSION:FRONT_NETTY
2024-03-11 12:35:50,472 DEBUG - [DefaultDocumentHandler.java:287:nioEventLoopGroup-3-1] = ID: TYPE: HASH: === doc type: OnLineCheque
2024-03-11 12:35:50,472 DEBUG - [OnlineChequeProcessor.java:61:nioEventLoopGroup-3-1] = ID: TYPE:OnLineCheque HASH: === =============[OnLineCheque]=============
2024-03-11 12:35:50,472 INFO - [OnlineChequeProcessor.java:72:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === Start processing.
2024-03-11 12:35:50,472 DEBUG - [DefaultProcessor.java:150:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === initDB
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:53:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === f(200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A) start
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === prefix {type=PREFIX, patterns=[136, 204, 314]} 200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:136
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:204
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:314
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === prefix:false
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:129:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === prefix {type=PREFIX, patterns=[010]} 200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:133:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:010
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:139:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === prefix:false
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:151:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === mmyy {type=MMYY, patterns=[0122, 0222, 0322]} 200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:155:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === mmyy:0324
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:0122
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:0222
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:157:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === pattern:0322
2024-03-11 12:35:50,473 TRACE - [PatternFunction.java:166:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === mmyy:false
2024-03-11 12:35:50,474 TRACE - [PatternFunction.java:55:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === f=(0) end
2024-03-11 12:35:50,474 DEBUG - [ShardedStringStore.java:248:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === shard(200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A)=0
2024-03-11 12:35:50,474 DEBUG - [JDBCStringStore.java:298:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === get: [200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A] from [barcodes]
2024-03-11 12:35:50,474 DEBUG - [JDBCStringStore.java:300:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === SELECT VAL FROM barcodes WHERE CODE =?
2024-03-11 12:35:50,475 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@37e4247e
2024-03-11 12:35:50,475 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@37e4247e
2024-03-11 12:35:50,475 TRACE - [HydraStorekeeper.java:262:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === commit ru.centerinform.bark.db.sql.JDBCStorekeeper@519eb859
2024-03-11 12:35:50,475 TRACE - [HydraStorekeeper.java:264:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === commit finish ru.centerinform.bark.db.sql.JDBCStorekeeper@519eb859
2024-03-11 12:35:50,475 INFO - [OnlineChequeProcessor.java:126:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === End processing.
2024-03-11 12:35:50,475 DEBUG - [Templater.java:40:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === templatePath:xml/ChequeOnlineReplyOK.xml
2024-03-11 12:35:50,476 TRACE - [Templater.java:49:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === <ns:Documents Version="1.0"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:cq="http://fsrar.ru/WEGAIS/Cheque">

    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeOnLine
                uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06"
                inn="7841051711"
                datetime="0703241237"
                kpp="770101008"
                kassa="1"
                address="Test2"
                name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ"
                number="1"
                shift="1"
                error="0">
            <cq:Bottle barcode="200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A" ean="00000000" price="10.00" volume="0.7500">
             </cq:Bottle>
        </ns:ChequeOnLine>
    </ns:Document>
</ns:Documents>

2024-03-11 12:35:50,476 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@37e4247e
2024-03-11 12:35:50,476 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@37e4247e
2024-03-11 12:35:50,476 TRACE - [HydraStorekeeper.java:296:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === close ru.centerinform.bark.db.sql.JDBCStorekeeper@519eb859
2024-03-11 12:35:50,476 TRACE - [HydraStorekeeper.java:298:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === close finish ru.centerinform.bark.db.sql.JDBCStorekeeper@519eb859
2024-03-11 12:35:50,476 INFO - [RequestHandler.java:142:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === end bark
2024-03-11 12:35:50,476 DEBUG - [RequestHandler.java:86:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === bark resp:<ns:Documents Version="1.0"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:cq="http://fsrar.ru/WEGAIS/Cheque">

    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeOnLine
                uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06"
                inn="7841051711"
                datetime="0703241237"
                kpp="770101008"
                kassa="1"
                address="Test2"
                name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ"
                number="1"
                shift="1"
                error="0">
            <cq:Bottle barcode="200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A" ean="00000000" price="10.00" volume="0.7500">
             </cq:Bottle>
        </ns:ChequeOnLine>
    </ns:Document>
</ns:Documents>

2024-03-11 12:35:50,476 INFO - [Storage.java:62:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === start proc
2024-03-11 12:35:50,476 DEBUG - [Storage.java:67:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === Call [{call [dbo].[barcheck_SVS_test](?)}]. Doc:[<ns:Documents Version="1.0"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xmlns:ns="http://fsrar.ru/WEGAIS/WB_DOC_SINGLE_01"
              xmlns:cq="http://fsrar.ru/WEGAIS/Cheque">

    <ns:Owner>
        <ns:FSRAR_ID>030000434308</ns:FSRAR_ID>
    </ns:Owner>
    <ns:Document>
        <ns:ChequeOnLine
                uuid="1c87e17c-8426-463a-b0b8-ebca41f50a06"
                inn="7841051711"
                datetime="0703241237"
                kpp="770101008"
                kassa="1"
                address="Test2"
                name="АКЦИОНЕРНОЕ ОБЩЕСТВО ЦЕНТРИНФОРМ"
                number="1"
                shift="1"
                error="0">
            <cq:Bottle barcode="200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A" ean="00000000" price="10.00" volume="0.7500">
             </cq:Bottle>
        </ns:ChequeOnLine>
    </ns:Document>
</ns:Documents>
]
2024-03-11 12:35:50,479 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:1
2024-03-11 12:35:50,480 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:0
2024-03-11 12:35:50,480 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:1
2024-03-11 12:35:50,480 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:1
2024-03-11 12:35:50,480 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:0
2024-03-11 12:35:50,480 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:0
2024-03-11 12:35:50,480 DEBUG - [Storage.java:85:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === <result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A)</text></result>
2024-03-11 12:35:50,480 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:1
2024-03-11 12:35:50,480 DEBUG - [Storage.java:92:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === UpdateCount:1
2024-03-11 12:35:50,480 DEBUG - [Storage.java:100:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === Call finished:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A)</text></result>
2024-03-11 12:35:50,480 INFO - [Storage.java:103:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === end proc
2024-03-11 12:35:50,480 DEBUG - [RequestHandler.java:88:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === sql resp:<result><number>1</number><text>Проверка не пройдена: продукция не внесена в поштучный учет (200200000560030324001SSDTUQS3MTRVD12EYHXCIXP9PNZG8L45IWZOOPJKSEXQMGHYPVW97FTBVYHLF5AO6L8QRIJ2EU6KCJHMXI8BGT9QOS0JKPNLUW4ACEFXLPV2QIJL9UOFVYTZTLHKW017A)</text></result>
2024-03-11 12:35:50,480 TRACE - [OnlyLogMeter.java:29:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === inc:6217
2024-03-11 12:35:50,480 INFO - [RequestHandler.java:91:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === send
2024-03-11 12:35:50,480 INFO - [RequestHandler.java:94:nioEventLoopGroup-3-1] = ID:1c87e17c-8426-463a-b0b8-ebca41f50a06 TYPE:OnLineCheque HASH: === final end
2024-03-11 12:35:50,685 DEBUG - [::procTypeBC housekeeper] = ID: TYPE: HASH: === procTypeBC - Before cleanup stats (total=4, active=0, idle=4, waiting=0)
2024-03-11 12:35:50,686 DEBUG - [::procTypeBC housekeeper] = ID: TYPE: HASH: === procTypeBC - After cleanup  stats (total=4, active=0, idle=4, waiting=0)
</pre>
}}

